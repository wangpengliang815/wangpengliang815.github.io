<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="布尔类型# Go语言中的布尔类型与其他语言基本一致，关键字也为 bool 。布尔型数据只有 true / false 两个值。
var a1 = false var a2 = true fmt.Println(a1, a2)注意：
布尔类型变量的默认值为 false Go 语言中不允许将整型强制转换为布尔型 布尔型无法参与数值运算，也无法与其他类型进行转换 复数# 复数有实部和虚部，complex64 的实部和虚部为32位，complex128 的实部和虚部为64位，用的比较少不做详细记录。
var c1 complex64 c1 = 1 &#43; 2i var c2 complex128 c2 = 2 &#43; 3i fmt.Println(c1) fmt.Println(c2)整型# 整型分为以下两个大类：有符号整形按长度分为：int8、int16、int32、int64，对应的无符号整型：uint8、uint16、uint32、uint64
类型 范围 占用空间(字节) int8 (-128 到 127) -2^7 到 2^7-1 1 Byte int16 (-32768 到 32767) -2^15 到 2^15-1 2 Byte int32 (-2147483648 到 2147483647) -2^31 到 2^31-1 4 Byte int64 (-9223372036854775808 到 9223372036854775807) -2^63 到 2^63-1 8 Byte uint8 (0 到 255) 0 到 2^8-1 1 Byte uint16 (0 到 65535) 0 到 2^16-1 2 Byte uint32 (0 到 4294967295) 0 到 2^32-1 4 Byte uint64 (0 到 18446744073709551615) 0 到 2^64-1 8 Byte 特殊整型# 类型 描述 uint 32 位操作系统上就是 uint32，64 位操作系统上就是 uint64 int 32 位操作系统上就是 int32，64 位操作系统上就是 int64 uintptr 无符号整型，用于存放一个指针 注意： 在使用 int 和 uint 类型时，不能假定它是 32 位或 64 位的整型，而是考虑 int 和 uint 可能在不同平台上的差异
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/posts/go/03%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
  <meta property="og:site_name" content="CODE&#39;NOTE">
  <meta property="og:title" content="CODE&#39;NOTE">
  <meta property="og:description" content="布尔类型# Go语言中的布尔类型与其他语言基本一致，关键字也为 bool 。布尔型数据只有 true / false 两个值。
var a1 = false var a2 = true fmt.Println(a1, a2)注意：
布尔类型变量的默认值为 false Go 语言中不允许将整型强制转换为布尔型 布尔型无法参与数值运算，也无法与其他类型进行转换 复数# 复数有实部和虚部，complex64 的实部和虚部为32位，complex128 的实部和虚部为64位，用的比较少不做详细记录。
var c1 complex64 c1 = 1 &#43; 2i var c2 complex128 c2 = 2 &#43; 3i fmt.Println(c1) fmt.Println(c2)整型# 整型分为以下两个大类：有符号整形按长度分为：int8、int16、int32、int64，对应的无符号整型：uint8、uint16、uint32、uint64
类型 范围 占用空间(字节) int8 (-128 到 127) -2^7 到 2^7-1 1 Byte int16 (-32768 到 32767) -2^15 到 2^15-1 2 Byte int32 (-2147483648 到 2147483647) -2^31 到 2^31-1 4 Byte int64 (-9223372036854775808 到 9223372036854775807) -2^63 到 2^63-1 8 Byte uint8 (0 到 255) 0 到 2^8-1 1 Byte uint16 (0 到 65535) 0 到 2^16-1 2 Byte uint32 (0 到 4294967295) 0 到 2^32-1 4 Byte uint64 (0 到 18446744073709551615) 0 到 2^64-1 8 Byte 特殊整型# 类型 描述 uint 32 位操作系统上就是 uint32，64 位操作系统上就是 uint64 int 32 位操作系统上就是 int32，64 位操作系统上就是 int64 uintptr 无符号整型，用于存放一个指针 注意： 在使用 int 和 uint 类型时，不能假定它是 32 位或 64 位的整型，而是考虑 int 和 uint 可能在不同平台上的差异">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">


  <meta itemprop="name" content="CODE&#39;NOTE">
  <meta itemprop="description" content="布尔类型# Go语言中的布尔类型与其他语言基本一致，关键字也为 bool 。布尔型数据只有 true / false 两个值。
var a1 = false var a2 = true fmt.Println(a1, a2)注意：
布尔类型变量的默认值为 false Go 语言中不允许将整型强制转换为布尔型 布尔型无法参与数值运算，也无法与其他类型进行转换 复数# 复数有实部和虚部，complex64 的实部和虚部为32位，complex128 的实部和虚部为64位，用的比较少不做详细记录。
var c1 complex64 c1 = 1 &#43; 2i var c2 complex128 c2 = 2 &#43; 3i fmt.Println(c1) fmt.Println(c2)整型# 整型分为以下两个大类：有符号整形按长度分为：int8、int16、int32、int64，对应的无符号整型：uint8、uint16、uint32、uint64
类型 范围 占用空间(字节) int8 (-128 到 127) -2^7 到 2^7-1 1 Byte int16 (-32768 到 32767) -2^15 到 2^15-1 2 Byte int32 (-2147483648 到 2147483647) -2^31 到 2^31-1 4 Byte int64 (-9223372036854775808 到 9223372036854775807) -2^63 到 2^63-1 8 Byte uint8 (0 到 255) 0 到 2^8-1 1 Byte uint16 (0 到 65535) 0 到 2^16-1 2 Byte uint32 (0 到 4294967295) 0 到 2^32-1 4 Byte uint64 (0 到 18446744073709551615) 0 到 2^64-1 8 Byte 特殊整型# 类型 描述 uint 32 位操作系统上就是 uint32，64 位操作系统上就是 uint64 int 32 位操作系统上就是 int32，64 位操作系统上就是 int64 uintptr 无符号整型，用于存放一个指针 注意： 在使用 int 和 uint 类型时，不能假定它是 32 位或 64 位的整型，而是考虑 int 和 uint 可能在不同平台上的差异">
  <meta itemprop="wordCount" content="1422">

<title>03基本数据类型 | CODE&#39;NOTE</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/posts/go/03%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
<link rel="stylesheet" href="/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css" integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG&#43;T2l66Bw7pV8=" crossorigin="anonymous">


  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.3ed9c79c605914c45e19db90edfda0ca8d87c63064c1d6252862250c4e917346.js" integrity="sha256-PtnHnGBZFMReGduQ7f2gyo2HxjBkwdYlKGIlDE6Rc0Y=" crossorigin="anonymous"></script>



  
</head>
<body dir="ltr" class="book-kind-page book-type-posts">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CODE&#39;NOTE</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>
























</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>03基本数据类型</h3>

  <label for="toc-control">
    
    <img src="/icons/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#特殊整型">特殊整型</a></li>
    <li><a href="#字节byte">字节(Byte)</a></li>
    <li><a href="#数字字面量语法">数字字面量语法</a></li>
    <li><a href="#不同长度转换">不同长度转换</a></li>
  </ul>

  <ul>
    <li><a href="#精度丢失问题">精度丢失问题</a></li>
    <li><a href="#解决精度丢失问题">解决精度丢失问题</a></li>
    <li><a href="#科学计数法表示">科学计数法表示</a></li>
  </ul>

  <ul>
    <li><a href="#len">len</a></li>
    <li><a href="#字符串不可变性">字符串不可变性</a></li>
    <li><a href="#字符串字面量">字符串字面量</a></li>
    <li><a href="#字符串转义符">字符串转义符</a></li>
    <li><a href="#go语言字符编码">Go语言字符编码</a></li>
    <li><a href="#截取字符串">截取字符串</a></li>
    <li><a href="#遍历字符串">遍历字符串</a></li>
    <li><a href="#字符串分割">字符串分割</a></li>
    <li><a href="#字符串-join">字符串 Join</a></li>
    <li><a href="#前缀判断">前缀判断</a></li>
    <li><a href="#后缀判断">后缀判断</a></li>
    <li><a href="#修改字符串">修改字符串</a></li>
    <li><a href="#strconv-包">strconv 包</a></li>
    <li><a href="#字符类型">字符类型</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h1>
    03基本数据类型
  </h1>
  


  

  


  <div class="book-post-content markdown-inner"><h1 id="布尔类型">布尔类型<a class="anchor" href="#%e5%b8%83%e5%b0%94%e7%b1%bb%e5%9e%8b">#</a></h1>
<p>Go语言中的布尔类型与其他语言基本一致，关键字也为 <code>bool</code> 。布尔型数据只有 <code>true</code> / <code>false</code> 两个值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a1</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a2</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a1</span>, <span style="color:#a6e22e">a2</span>)</span></span></code></pre></div><p><strong>注意：</strong></p>
<ol>
<li>布尔类型变量的默认值为 <code>false</code></li>
<li>Go 语言中不允许将整型强制转换为布尔型</li>
<li>布尔型无法参与数值运算，也无法与其他类型进行转换</li>
</ol>
<h1 id="复数">复数<a class="anchor" href="#%e5%a4%8d%e6%95%b0">#</a></h1>
<p>复数有实部和虚部，<code>complex64</code> 的实部和虚部为32位，<code>complex128</code> 的实部和虚部为64位，用的比较少不做详细记录。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c1</span> <span style="color:#66d9ef">complex64</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c1</span> = <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2i</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c2</span> <span style="color:#66d9ef">complex128</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c2</span> = <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3i</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">c1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">c2</span>)</span></span></code></pre></div><h1 id="整型">整型<a class="anchor" href="#%e6%95%b4%e5%9e%8b">#</a></h1>
<p>整型分为以下两个大类：有符号整形按长度分为：<code>int8</code>、<code>int16</code>、<code>int32</code>、<code>int64</code>，对应的无符号整型：<code>uint8</code>、<code>uint16</code>、<code>uint32</code>、<code>uint64</code></p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">类型</th>
          <th style="text-align: left">范围</th>
          <th style="text-align: center">占用空间(字节)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center"><code>int8</code></td>
          <td style="text-align: left">(-128 到 127) <code>-2^7 到 2^7-1</code></td>
          <td style="text-align: center">1 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>int16</code></td>
          <td style="text-align: left">(-32768 到 32767) <code>-2^15 到 2^15-1</code></td>
          <td style="text-align: center">2 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>int32</code></td>
          <td style="text-align: left">(-2147483648 到 2147483647) <code>-2^31 到 2^31-1</code></td>
          <td style="text-align: center">4 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>int64</code></td>
          <td style="text-align: left">(-9223372036854775808 到 9223372036854775807) <code>-2^63 到 2^63-1</code></td>
          <td style="text-align: center">8 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>uint8</code></td>
          <td style="text-align: left">(0 到 255) <code>0 到 2^8-1</code></td>
          <td style="text-align: center">1 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>uint16</code></td>
          <td style="text-align: left">(0 到 65535)<code> 0 到 2^16-1</code></td>
          <td style="text-align: center">2 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>uint32</code></td>
          <td style="text-align: left">(0 到 4294967295) <code>0 到 2^32-1</code></td>
          <td style="text-align: center">4 Byte</td>
      </tr>
      <tr>
          <td style="text-align: center"><code>uint64</code></td>
          <td style="text-align: left">(0 到 18446744073709551615) <code>0 到 2^64-1</code></td>
          <td style="text-align: center">8 Byte</td>
      </tr>
  </tbody>
</table>
<h2 id="特殊整型">特殊整型<a class="anchor" href="#%e7%89%b9%e6%ae%8a%e6%95%b4%e5%9e%8b">#</a></h2>
<table>
  <thead>
      <tr>
          <th style="text-align: center">类型</th>
          <th style="text-align: left">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center"><code>uint</code></td>
          <td style="text-align: left">32 位操作系统上就是 <code>uint32</code>，64 位操作系统上就是 <code>uint64</code></td>
      </tr>
      <tr>
          <td style="text-align: center"><code>int</code></td>
          <td style="text-align: left">32 位操作系统上就是 <code>int32</code>，64 位操作系统上就是 <code>int64</code></td>
      </tr>
      <tr>
          <td style="text-align: center"><code>uintptr</code></td>
          <td style="text-align: left">无符号整型，用于存放一个指针</td>
      </tr>
  </tbody>
</table>
<p><strong>注意</strong>： 在使用 <code>int</code> 和 <code>uint</code> 类型时，不能假定它是 32 位或 64 位的整型，而是考虑 <code>int</code> 和 <code>uint</code> 可能在不同平台上的差异</p>
<h2 id="字节byte">字节(Byte)<a class="anchor" href="#%e5%ad%97%e8%8a%82byte">#</a></h2>
<p>字节也叫 <code>Byte</code>，是计算机数据的基本存储单位。1Byte(字节)=8bit(位) 1024Byte(字节)=1KB。中文字符在 <code>unicode</code> 下占2个字节，在 <code>utf-8</code> 编码下占3个字节，go 默认编码是 <code>utf-8</code>。</p>
<p><code>unsafe.Sizeof(n1)</code> 是 <code>unsafe</code>包的一个函数，可以返回变量占用的字节数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> ( 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fmt&#34;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;unsafe&#34;</span> 
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() { 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int8</span> = <span style="color:#ae81ff">120</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T\n&#34;</span>, <span style="color:#a6e22e">a</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Sizeof</span>(<span style="color:#a6e22e">a</span>)) 
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>PS D:<span style="color:#ae81ff">\G</span>oProject&gt; go run .<span style="color:#ae81ff">\t</span>est.go
</span></span><span style="display:flex;"><span>int8
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span></span></span></code></pre></div><h2 id="数字字面量语法">数字字面量语法<a class="anchor" href="#%e6%95%b0%e5%ad%97%e5%ad%97%e9%9d%a2%e9%87%8f%e8%af%ad%e6%b3%95">#</a></h2>
<p>Go1.13 版本之后引入了数字字面量语法，便于以二进制、八进制或十六进制浮点数的格式定义数字，例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">numberLiteralsSyntax</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 代表二进制的 101101，相当于十进制的 45</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v1</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0b00101101</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;value:%v type:%T \n&#34;</span>, <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 代表八进制的377，相当于十进制的 255</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v2</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span><span style="color:#a6e22e">o377</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;value:%v type:%T \n&#34;</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 代表十六进制的 1 除以 2²，也就是 0.25</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v3</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0x1</span><span style="color:#a6e22e">p</span><span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;value:%v type:%T \n&#34;</span>, <span style="color:#a6e22e">v3</span>, <span style="color:#a6e22e">v3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 使用“_”分隔数字</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v4</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">123_456</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;value:%v type:%T \n&#34;</span>, <span style="color:#a6e22e">v4</span>, <span style="color:#a6e22e">v4</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>借助 <code>fmt</code> 函数以不同进制形式显示整数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">convertOutput</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 十进制</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;十进制:%d 二进制:%b \n&#34;</span>, <span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">a</span>) <span style="color:#75715e">// %d表示十进制,%b表示二进制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 八进制以0开头</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">077</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;八进制:%o 二进制:%d\n&#34;</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">b</span>) <span style="color:#75715e">// %o表示八进制,%d表示十进制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 十六进制 以 0x 开头</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">0xff</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;十六进制:%x 十六进制大写:%X 十进制:%d 变量类型:%T \n&#34;</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">c</span>) <span style="color:#75715e">//%x 表示十六进制,%X 表示大写的十六进制,%d 表示十进制,%T 查看变量类型</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// int不同长度转换</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num1</span> <span style="color:#66d9ef">int8</span> = <span style="color:#ae81ff">127</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">num2</span> <span style="color:#f92672">:=</span> int32(<span style="color:#a6e22e">num1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;value:%v type:%T \n&#34;</span>, <span style="color:#a6e22e">num2</span>, <span style="color:#a6e22e">num2</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="不同长度转换">不同长度转换<a class="anchor" href="#%e4%b8%8d%e5%90%8c%e9%95%bf%e5%ba%a6%e8%bd%ac%e6%8d%a2">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> ( 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fmt&#34;</span> 
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() { 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num1</span> <span style="color:#66d9ef">int8</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">num1</span> = <span style="color:#ae81ff">127</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">num2</span> <span style="color:#f92672">:=</span> int32(<span style="color:#a6e22e">num1</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;值:%v 类型%T&#34;</span>, <span style="color:#a6e22e">num2</span>, <span style="color:#a6e22e">num2</span>) 
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h1 id="浮点型">浮点型<a class="anchor" href="#%e6%b5%ae%e7%82%b9%e5%9e%8b">#</a></h1>
<p>Go 语言支持两种浮点型数：<code>float32</code> 和 <code>float64</code>。</p>
<p>这两种浮点型数据格式遵循 <code>IEEE 754</code> 标准</p>
<ul>
<li><code>float32</code> 最大范围约为 <code>3.4e38</code>，可以使用常量定义：<code>math.MaxFloat32</code></li>
<li><code>float64</code> 最大范围约为 <code>1.8e308</code>，可以使用常量定义：<code>math.MaxFloat64</code></li>
</ul>
<p>打印浮点数时可以使用 <code>fmt</code> 包配合动词 <code>%f</code>，比如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1415926</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%f\n&#34;</span>, <span style="color:#a6e22e">f</span>)             <span style="color:#75715e">// 默认保留6位小数</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%.2f\n&#34;</span>, <span style="color:#a6e22e">f</span>)           <span style="color:#75715e">// 保留2位小数</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;值:%v,类型:%T \n&#34;</span>, <span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">f</span>) <span style="color:#75715e">// 浮点数默认类型是float64</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxFloat32</span>) <span style="color:#75715e">// 输出float32最大值</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">MaxFloat64</span>) <span style="color:#75715e">// 输出float64最大值</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 科学计数法表示浮点类型</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">n1</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">n2</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">n3</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e-2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;n1=&#34;</span>, <span style="color:#a6e22e">n1</span>, <span style="color:#e6db74">&#34;n2=&#34;</span>, <span style="color:#a6e22e">n2</span>, <span style="color:#e6db74">&#34;n3=&#34;</span>, <span style="color:#a6e22e">n3</span>)	</span></span></code></pre></div><h2 id="精度丢失问题">精度丢失问题<a class="anchor" href="#%e7%b2%be%e5%ba%a6%e4%b8%a2%e5%a4%b1%e9%97%ae%e9%a2%98">#</a></h2>
<p>精度丢失是几乎所有的编程语言都有的问题，是典型的二进制浮点数精度损失问题。在定长条件下，二进制小数和十进制小数互转可能有精度丢失，Go也不例外，观察以下代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">floatPrecisionLossTest</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1129.6</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">d</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>) <span style="color:#75715e">// 此处结果应该是：112960，实际打印的却是：112959.99999999999</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">m1</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">8.2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;值:%v--类型:%T \n&#34;</span>, <span style="color:#a6e22e">m1</span>, <span style="color:#a6e22e">m1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">m2</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">3.8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;值:%v--类型:%T \n&#34;</span>, <span style="color:#a6e22e">m2</span>, <span style="color:#a6e22e">m2</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">m1</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">m2</span>) <span style="color:#75715e">// 此处结果应该是：4.4，实际打印：4.3999999999999995</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="解决精度丢失问题">解决精度丢失问题<a class="anchor" href="#%e8%a7%a3%e5%86%b3%e7%b2%be%e5%ba%a6%e4%b8%a2%e5%a4%b1%e9%97%ae%e9%a2%98">#</a></h2>
<p>使用第三方包需要使用 <code>go mod </code>，关于 <code>go mod</code> 参考之前的章节。引入第三方包解决经度丢失问题：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>PS D:<span style="color:#ae81ff">\G</span>oProject<span style="color:#ae81ff">\s</span>rc&gt; go get github.com/shopspring/decimal
</span></span><span style="display:flex;"><span>go: downloading github.com/shopspring/decimal v1.3.1
</span></span><span style="display:flex;"><span>go get: added github.com/shopspring/decimal v1.3.1</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;github.com/shopspring/decimal&#34;</span>
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">使用第三方包解决float精度丢失问题：go get github.com/shopspring/decimal
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">文档：https://pkg.go.dev/github.com/shopspring/decimal#section-readme
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">floatPrecisionLossSolveTest</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#ae81ff">1129.6</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromInt</span>(<span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">Mul</span>(<span style="color:#a6e22e">b</span>)) <span style="color:#75715e">// output:112960</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#ae81ff">8.2</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#ae81ff">3.8</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Sub</span>(<span style="color:#a6e22e">d</span>)) <span style="color:#75715e">// output:4.4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 初始化一个变量</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d0</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 设置精度 为三位 四舍五入的精度</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">DivisionPrecision</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">d0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 加法 Add</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f1</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i1</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f1</span>).<span style="color:#a6e22e">Add</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">i1</span>)))) <span style="color:#75715e">// 2.1 + 3: float和int相加=&gt;output: &#34;5.1&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f2</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f3</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f2</span>).<span style="color:#a6e22e">Add</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f3</span>))) <span style="color:#75715e">// 2.1 + 3.1 (float和float相加)=&gt;output: &#34;5.2&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f4</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f5</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f4</span>).<span style="color:#a6e22e">Add</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f5</span>))) <span style="color:#75715e">// 2 + 3 (int和int相加 可以直接相加 d1 = num1+num2)=&gt; output: &#34;5&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 	减法 Sub</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f7</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">f8</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">d1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">f7</span>).<span style="color:#a6e22e">Sub</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">f8</span>))) <span style="color:#75715e">// 3.1 - 2 float和int相减 =&gt; output: &#34;1.1&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">d1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n1</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n2</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">n1</span>).<span style="color:#a6e22e">Sub</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">n2</span>))) <span style="color:#75715e">// 2.1 - 3.1 (float和float相减)=&gt;output: &#34;-1&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n3</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n4</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n3</span>)).<span style="color:#a6e22e">Sub</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n4</span>)))) <span style="color:#75715e">// 2 - 3 (int和int相减 d1 = num1 - num2) =&gt; output: &#34;-1&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 	乘法 Mul</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n5</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n6</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">n5</span>).<span style="color:#a6e22e">Mul</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n6</span>)))) <span style="color:#75715e">// 3.1 * 2 float和int相乘 =&gt; output: &#34;6.2&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n7</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n8</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">3.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">n7</span>).<span style="color:#a6e22e">Mul</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">n8</span>))) <span style="color:#75715e">// 2.1 * 3.1 (float和float相乘) =&gt; output: &#34;6.51&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n9</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n10</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n9</span>)).<span style="color:#a6e22e">Mul</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n10</span>)))) <span style="color:#75715e">// 2 * 3 int和int相乘(d1 = num1 * num2) =&gt;  output: &#34;6&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 	除法 Div</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n11</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n12</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n11</span>)).<span style="color:#a6e22e">Div</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">n12</span>)))) <span style="color:#75715e">// 2 / 3 = 0.6666666666666667  =&gt;  output: &#34;0.6666666666666667&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 	float64 和 int 相除</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num13</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num14</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">num13</span>).<span style="color:#a6e22e">Div</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">num14</span>)))) <span style="color:#75715e">// output: &#34;0.7&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 	float64 和 float64 相除</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num15</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">2.1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num16</span> <span style="color:#66d9ef">float64</span> = <span style="color:#ae81ff">0.3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">num15</span>).<span style="color:#a6e22e">Div</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(<span style="color:#a6e22e">num16</span>))) <span style="color:#75715e">// output: &#34;7&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// int 和 int 相除 并保持3位精度</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num17</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">num18</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">DivisionPrecision</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">result</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">num17</span>)).<span style="color:#a6e22e">Div</span>(<span style="color:#a6e22e">decimal</span>.<span style="color:#a6e22e">NewFromFloat</span>(float64(<span style="color:#a6e22e">num18</span>))) <span style="color:#75715e">// 2/3 = 0.667 =&gt;  output: &#34;0.667&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">result</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="科学计数法表示">科学计数法表示<a class="anchor" href="#%e7%a7%91%e5%ad%a6%e8%ae%a1%e6%95%b0%e6%b3%95%e8%a1%a8%e7%a4%ba">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">n1</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">n2</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">n3</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5.1234e-2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;n1=&#34;</span>, <span style="color:#a6e22e">n1</span>, <span style="color:#e6db74">&#34;n2=&#34;</span>, <span style="color:#a6e22e">n2</span>, <span style="color:#e6db74">&#34;n3=&#34;</span>, <span style="color:#a6e22e">n3</span>)</span></span></code></pre></div><h1 id="字符串">字符串<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a></h1>
<p>Go 语言中，一个字符串是一个不可改变的字节序列。字符串可以包含任意的数据，包括byte值0，但是通常用来保存人类可读的文本。</p>
<p>Go的字符串是由 <code>Utf-8</code> 编码之后的字节序列，所以不能修改。</p>
<ul>
<li>1个汉字占用3个字节</li>
<li>1个英文字母占用1个字节</li>
</ul>
<p>Go使用 <code>rune</code>（1个int32类型的数字） 表示中文字符，使用 <code>byte</code>（1个uint8类型的数字）表示英文。Go语言中组成字符串的最小单位是字符，存储的最小单位是字节，字符串本身不支持修改。字节是数据存储的最小单元，每个字节的数据都可以用整数表示，例如一个字节储存的字符 <code>a</code>，实际存储的是 <code>97</code> 而非字符的字形，将这个实际存储的内容用数字表示的类型，称之为 <code>byte</code>。</p>
<h2 id="len">len<a class="anchor" href="#len">#</a></h2>
<p>内置的 <code>len</code> 函数用于返回一个字符串中的字节数目（不是 <code>rune</code> 字符数目），索引操作 <code>s[i]</code> 返回第 <code>i</code> 个字节的字节值，<code>i</code> 必须满足 <code>0 ≤ i&lt; len(s)</code> 条件约束。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;hello, world&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(len(<span style="color:#a6e22e">s</span>))     <span style="color:#75715e">// &#34;12&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">7</span>]) <span style="color:#75715e">// &#34;104 119&#34; (&#39;h&#39; and &#39;w&#39;)</span></span></span></code></pre></div><p>如果试图访问超出字符串索引范围的字节将会导致 <code>panic</code> 异常：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>[len(<span style="color:#a6e22e">s</span>)] <span style="color:#75715e">// panic: index out of range</span></span></span></code></pre></div><p>第 <code>i</code> 个字节并不一定是字符串的第 <code>i</code> 个字符，因为对于非 <code>ASCII</code> 字符的 <code>UTF8</code> 编码会要两个或多个字节。</p>
<p>比如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;abc北京&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;字节长度：%d \n&#34;</span>, len(<span style="color:#a6e22e">s</span>)) <span style="color:#75715e">//output:9</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 返回字符串每个字节的值</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">s</span>); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>[<span style="color:#a6e22e">i</span>])
</span></span><span style="display:flex;"><span>	}</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>字节长度：9 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">97</span>        // a  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">98</span>        // b
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">99</span>        // c  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">229</span>       // 北  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">140</span>       // 北  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">151</span>       // 北
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">228</span>       // 京 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">186</span>       // 京
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">172</span>       // 京</span></span></code></pre></div><p>英文字母占用一个字节：<code>97：a</code>/<code>98：b</code>/<code>99：c</code>，汉字占用三个字节：<code>229/140/151</code>组成<code>北</code>，<code>228/186/172</code>组成<code>京</code></p>
<p>如果要获取字符串中字符的个数，需要先把字符串转换成 <code>[]rune</code> 类型，然后用 <code>len()</code> 函数获取字符个数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> []rune(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(len(<span style="color:#a6e22e">r</span>)) <span style="color:#75715e">// output:5</span></span></span></code></pre></div><h2 id="字符串不可变性">字符串不可变性<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8d%e5%8f%af%e5%8f%98%e6%80%a7">#</a></h2>
<p>字符串的值是不可变的：一个字符串包含的字节序列永远不会被改变，当然也可以给一个字符串变量分配一个新字符串值。可以像下面这样将一个字符串追加到另一个字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;left foot&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;, right foot&#34;</span></span></span></code></pre></div><p>这并不会导致原始的字符串值被改变，但是变量 <code>s</code> 将因为 <code>+=</code> 语句持有一个新的字符串值，但是 <code>t</code> 依然是包含原先的字符串值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>) <span style="color:#75715e">// &#34;left foot, right foot&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">t</span>) <span style="color:#75715e">// &#34;left foot&#34;</span></span></span></code></pre></div><p>因为字符串是不可修改的，因此尝试修改字符串内部数据的操作也是被禁止的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#e6db74">&#39;L&#39;</span> <span style="color:#75715e">// compile error: cannot assign to s[0]</span></span></span></code></pre></div><p>或者使用 <code>Sprintf</code> ：不会直接打印而是生成一个新的字符串</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">result</span> = <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s%s&#34;</span>, <span style="color:#a6e22e">q1</span>, <span style="color:#a6e22e">q2</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">result</span>)</span></span></code></pre></div><h2 id="字符串字面量">字符串字面量<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%ad%97%e9%9d%a2%e9%87%8f">#</a></h2>
<p>Golang 支持两种类型的字符串字面量：</p>
<ul>
<li>非解释型表示法，需用用反引号&quot;`&ldquo;把字符序列包起来</li>
<li>解释型表示法，需要用双引号&quot;&ldquo;包裹字符序列</li>
</ul>
<p>区别在于：前者表示所见即所得的(除了回车符)。后者所表示的值中转义符会起作用</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#75715e">// 字符串字面量语法：可以定义一个多行字符串</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s1</span> <span style="color:#66d9ef">string</span> = <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s2</span> <span style="color:#66d9ef">string</span> = <span style="color:#e6db74">`hello
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">				     world`</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">`</span></span></span></code></pre></div><h2 id="字符串转义符">字符串转义符<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bd%ac%e4%b9%89%e7%ac%a6">#</a></h2>
<p>所谓的解释型字符串就是用双引号括起来的字符串(&rdquo;&quot;)，其中的转义字符会被替换掉，这些转义字符包括：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">a</span>    <span style="color:#75715e">// 响铃     </span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">b</span>    <span style="color:#75715e">// 退格</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">f</span>    <span style="color:#75715e">// 换页</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">n</span>    <span style="color:#75715e">// 换行</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">r</span>    <span style="color:#75715e">// 回车</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">t</span>    <span style="color:#75715e">// 制表符</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">u</span>    <span style="color:#75715e">// Unicode 字符</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">v</span>    <span style="color:#75715e">// 垂直制表符</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\&#34;</span>    <span style="color:#75715e">// 双引号</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\\</span>    <span style="color:#75715e">// 反斜杠</span></span></span></code></pre></div><h2 id="go语言字符编码">Go语言字符编码<a class="anchor" href="#go%e8%af%ad%e8%a8%80%e5%ad%97%e7%ac%a6%e7%bc%96%e7%a0%81">#</a></h2>
<p>Go 语言采用的字符编码方案从属于 <code>Unicode</code> 编码规范。Go 语言的代码正是由 <code>Unicode</code> 字符组成的，且源码文件必须使用 <code>UTF-8</code> 编码格式进行存储。如果源码文件中出现了非 <code>UTF-8</code> 编码的字符，那么在构建、安装以及运行的时候，go 命令会报错  <code>illegal UTF-8 encoding </code>。当一个 <code>string</code> 类型的值被转换为 <code>[]rune</code> 类型值的时候，其中的字符串会被拆分成一个个的 <code>Unicode</code> 字符。</p>
<h2 id="截取字符串">截取字符串<a class="anchor" href="#%e6%88%aa%e5%8f%96%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a></h2>
<p>可以通过下面的语法截取字符串中的内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">str</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;abcdefg&#34;</span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">t1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">str</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">4</span>] <span style="color:#75715e">//startIndex=1,endIndex=4</span></span></span></code></pre></div><p>此时 t1 的内容为  <code>bcd</code>，该语法通过下标索引的方式截取字符串中的内容，特点是 &ldquo;左含右不含&rdquo;。也就是说新的子串包含源串索引为 1 的字符，而不包含源串索引为 4 的字符。</p>
<p>如果要从源串的开始处截取可以省略第一个索引：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">t2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">str</span>[:<span style="color:#ae81ff">4</span>]  <span style="color:#75715e">//省略第一个索引从0开始，startIndex=0,endIndex=4</span></span></span></code></pre></div><blockquote class='book-hint '>
<p>t2 的内容为 &ldquo;abcd&rdquo;。</p>
</blockquote><p>如果要从源串的某个位置开始一直截取到末尾，可以省略第二个索引：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">t3</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">str</span>[<span style="color:#ae81ff">1</span>:]  <span style="color:#75715e">//省略第二个索引，从1开始截取到末尾</span></span></span></code></pre></div><blockquote class='book-hint '>
<p>t3 的内容为 &ldquo;cdef&rdquo;</p>
</blockquote><p>访问越界问题：如果试图访问超出字符串索引范围的字节将会在运行时导致 panic 异常：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">t4</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">str</span>[:<span style="color:#ae81ff">10</span>]</span></span></code></pre></div><blockquote class='book-hint '>
<p>runtime error: slice bounds out of range [:10] with length 7 数组越界</p>
</blockquote><h2 id="遍历字符串">遍历字符串<a class="anchor" href="#%e9%81%8d%e5%8e%86%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a></h2>
<p>可以通过下标索引字符串中的字节，所以可以用这种方式遍历字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;abc你好&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">p</span>); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>, <span style="color:#a6e22e">p</span>[<span style="color:#a6e22e">i</span>])
</span></span><span style="display:flex;"><span>	}</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>abcä% å¥%</span></span></code></pre></div><p>可见在字符串中含有非单字节的字符时这种方法是不正确的。<code>range</code> 函数解决这个问题：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">s</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>, <span style="color:#a6e22e">v</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>abc你好</span></span></code></pre></div><blockquote class='book-hint '>
<p>带有 range 子句的 for 语句会先把被遍历的字符串值拆成一个字节序列，然后再试图找出这个字节序列中包含的每一个 UTF-8 编码值，或者说每一个 Unicode 字符。因此在 range for 语句中，赋给第二个变量的值是UTF-8 编码值代表的那个 Unicode 字符，类型是 rune</p>
</blockquote><h2 id="字符串分割">字符串分割<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%88%86%e5%89%b2">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">url</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">strArray</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">url</span>, <span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">strArray</span>)</span></span></code></pre></div><h2 id="字符串-join">字符串 Join<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2-join">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Join</span>(<span style="color:#a6e22e">strArray</span>, <span style="color:#e6db74">&#34;.&#34;</span>))</span></span></code></pre></div><h2 id="前缀判断">前缀判断<a class="anchor" href="#%e5%89%8d%e7%bc%80%e5%88%a4%e6%96%ad">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">HasPrefix</span>(<span style="color:#a6e22e">url</span>, <span style="color:#e6db74">&#34;www&#34;</span>))</span></span></code></pre></div><h2 id="后缀判断">后缀判断<a class="anchor" href="#%e5%90%8e%e7%bc%80%e5%88%a4%e6%96%ad">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">HasSuffix</span>(<span style="color:#a6e22e">url</span>, <span style="color:#e6db74">&#34;com&#34;</span>))</span></span></code></pre></div><h2 id="修改字符串">修改字符串<a class="anchor" href="#%e4%bf%ae%e6%94%b9%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a></h2>
<p>Golang 中不能修改字符串的内容，就是说不能通过 <code>s[i]</code> 这种方式修改字符串中的字符。要修改字符串的内容，可以先将字符串的内容复制到一个可写的变量中，一般是 <code>[]byte</code> 或 <code>[]rune</code> 类型的变量，然后再进行修改。</p>
<p><strong>注意</strong>：如果要对字符串中的字节进行修改，就转换为 <code>[]byte</code> 类型，如果要对字符串中的字符修改，就转换为 <code>[]rune</code> 类型，转换类型的过程中会自动复制数据</p>
<p><strong>修改字符串中的字节(<code>[]byte</code>)</strong>
对于单字节字符来说可以用这种方式进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">ss</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;hello world&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">value</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#a6e22e">ss</span>) <span style="color:#75715e">// 转换为[]byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">value</span>[<span style="color:#ae81ff">5</span>] = <span style="color:#e6db74">&#39;,&#39;</span>      <span style="color:#75715e">// 将空格替换为“,”</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#a6e22e">ss</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#a6e22e">value</span>)</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hello world
</span></span><span style="display:flex;"><span>hello,world</span></span></code></pre></div><p><strong>修改字符串中的字符(<code>[]rune</code>)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">sss</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;一梦三两年&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">value2</span> <span style="color:#f92672">:=</span> []rune(<span style="color:#a6e22e">sss</span>) <span style="color:#75715e">// 转换为[]rune</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">value2</span>[<span style="color:#ae81ff">2</span>] = <span style="color:#e6db74">&#39;四&#39;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">value2</span>[<span style="color:#ae81ff">3</span>] = <span style="color:#e6db74">&#39;五&#39;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">sss</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(string(<span style="color:#a6e22e">value2</span>))</span></span></code></pre></div><p>输出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>一梦三两年
</span></span><span style="display:flex;"><span>一梦四五年</span></span></code></pre></div><blockquote class='book-hint '>
<p>注意：string 类型的 0 值是长度为 0 的字符串，即空字符串 &quot;&rdquo;</p>
</blockquote><h2 id="strconv-包">strconv 包<a class="anchor" href="#strconv-%e5%8c%85">#</a></h2>
<p>除了字符串、字符、字节之间的转换，字符串和数值之间的转换也比较常见。由 <code>strconv</code> 包提供这类转换功能。</p>
<p>将一个整数转为字符串，一种方法是用 <code>fmt.Sprintf</code> 返回一个格式化的字符串；另一个方法是用<code>strconv.Itoa()</code> ：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">123</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">y</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#a6e22e">x</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Itoa</span>(<span style="color:#a6e22e">x</span>)) <span style="color:#75715e">// &#34;123 123&#34; “整数到ASCII”</span></span></span></code></pre></div><p><code>FormatInt</code> 和 <code>FormatUint</code> 函数可以用不同的进制来格式化数字：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">FormatInt</span>(int64(<span style="color:#a6e22e">x</span>), <span style="color:#ae81ff">2</span>)) <span style="color:#75715e">// &#34;1111011&#34;</span></span></span></code></pre></div><p><code>fmt.Printf</code> 函数的 <code>%b</code> 、<code>%d</code>、<code>%o</code> 和<code>%x</code> 等参数提供功能往往比 <code>strconv</code> 包的 <code>Format</code> 函数方便很多，特别是在需要包含有附加额外信息的时候：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;x=%b&#34;</span>, <span style="color:#a6e22e">x</span>) <span style="color:#75715e">// &#34;x=1111011&#34;</span></span></span></code></pre></div><p>如果要将一个字符串解析为整数，可以使用 <code>strconv</code> 包的<code>Atoi</code>或<code>ParseInt</code>函数，还有用于解析无符号整数的<code>ParseUint</code> 函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#e6db74">&#34;123&#34;</span>)             <span style="color:#75715e">// x is an int</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">ParseInt</span>(<span style="color:#e6db74">&#34;123&#34;</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">64</span>) <span style="color:#75715e">// base 10, up to 64 bits</span></span></span></code></pre></div><p><code>ParseInt</code> 函数的第三个参数是用于指定整型数的大小；例如16表示int16，0则表示int。在任何情况下，返回的结果y总是int64类型，可以通过强制类型转换将它转为更小的整数类型。</p>
<p>有时候也会使用 <code>fmt.Scanf</code> 来解析输入的字符串和数字，特别是当字符串和数字混合在一行的时候，它可以灵活处理不完整或不规则的输入。</p>
<h2 id="字符类型">字符类型<a class="anchor" href="#%e5%ad%97%e7%ac%a6%e7%b1%bb%e5%9e%8b">#</a></h2>
<p>在Go语言中支持两个字符类型，一个是byte（实际上是uint8的别名），代表UTF-8字符串的单个字节的值；另一个是rune，代表单个Unicode字符。</p>
<p>一个 <code>string</code> 类型的值既可以被拆分为<strong>一个包含多个字符的序列</strong>，也可以被拆分为<strong>一个包含多个字节的序列</strong>。</p>
<ul>
<li>前者由以 <code>rune</code> 为元素类型的切片表示</li>
<li>后者由以 <code>byte</code> 为元素类型的切片代表</li>
</ul>
<blockquote class='book-hint '>
<p><code>rune</code> 是Go语言特有的一个基本数据类型，它的一个值就代表一个字符，即：一个Unicode 字符(就是一个中文字符，占3个字节)</p>
</blockquote><p>看以下代码:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;helloworld 世界你好&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;string:%q\n&#34;</span>, <span style="color:#a6e22e">s</span>)              <span style="color:#75715e">// 原文格式输出</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;rune(char):%q\n&#34;</span>, []rune(<span style="color:#a6e22e">s</span>))  <span style="color:#75715e">// 输出[]rune切片</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;rune(hex):%x\n&#34;</span>, []rune(<span style="color:#a6e22e">s</span>))   <span style="color:#75715e">// 采用16进制数表示</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;bytes(hex):% x\n&#34;</span>, []byte(<span style="color:#a6e22e">s</span>)) <span style="color:#75715e">// 输出[]byte切片</span></span></span></code></pre></div><p>输出:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>string:<span style="color:#e6db74">&#34;helloworld 世界你好&#34;</span>
</span></span><span style="display:flex;"><span>rune<span style="color:#f92672">(</span>char<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;h&#39;</span> <span style="color:#e6db74">&#39;e&#39;</span> <span style="color:#e6db74">&#39;l&#39;</span> <span style="color:#e6db74">&#39;l&#39;</span> <span style="color:#e6db74">&#39;o&#39;</span> <span style="color:#e6db74">&#39;w&#39;</span> <span style="color:#e6db74">&#39;o&#39;</span> <span style="color:#e6db74">&#39;r&#39;</span> <span style="color:#e6db74">&#39;l&#39;</span> <span style="color:#e6db74">&#39;d&#39;</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#e6db74">&#39;世&#39;</span> <span style="color:#e6db74">&#39;界&#39;</span> <span style="color:#e6db74">&#39;你&#39;</span> <span style="color:#e6db74">&#39;好&#39;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>rune<span style="color:#f92672">(</span>hex<span style="color:#f92672">)</span>:<span style="color:#f92672">[</span><span style="color:#ae81ff">68</span> <span style="color:#ae81ff">65</span> 6c 6c 6f <span style="color:#ae81ff">77</span> 6f <span style="color:#ae81ff">72</span> 6c <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">20</span> 4e16 754c 4f60 597d<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>bytes<span style="color:#f92672">(</span>hex<span style="color:#f92672">)</span>:68 <span style="color:#ae81ff">65</span> 6c 6c 6f <span style="color:#ae81ff">77</span> 6f <span style="color:#ae81ff">72</span> 6c <span style="color:#ae81ff">64</span> <span style="color:#ae81ff">20</span> e4 b8 <span style="color:#ae81ff">96</span> e7 <span style="color:#ae81ff">95</span> 8c e4 bd a0 e5 a5 bd</span></span></code></pre></div><p>结果分析：</p>
<ol>
<li>第二行输出说明：字符串在被转换为 <code>[]rune</code> 类型的值时每个字符都会成为一个独立的 <code>rune</code> 类型的元素值。</li>
<li>由于每个 <code>rune</code> 底层的值都是采用 <code>UTF-8</code> 编码值来表达的，所以第三行采用 <code>16进制数</code> 来表示上述字符串，每一个16进制的字符分别表示一个字符，可以看到，当遇到中文字符时，由于底层存储需要更大的空间，所以使用的16进制数字也比较大，比如 <code>4e16</code> 和 <code>754c</code> 分别代表世和界。</li>
<li>如果将整个字符的 <code>UTF-8</code> 编码值都拆成字节序列时，就变成了第四行的输出，可以看到一个中文字符底层占用了三个byte，比如<code>e4 b8 96 </code>/ <code>e7 95 8c</code>分别对应UFT-8编码值的 <code>4e16</code> 和 <code>754c</code>，也就是中文字符中的世和界。</li>
</ol>
<p>总结： string 类型的值会由若干个 Unicode 字符组成，每个 Unicode 字符都可以由一个 rune 类型的值来承载。这些字符在底层都会被转换为 UTF-8 编码值，而这些 UTF-8 编码值又会以字节序列的形式表达和存储。所以：一个 string 类型的值在底层就是一个能够表达若干个 UTF-8 编码值的字节序列。</p>
</div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">
  <div>
  
    <a href="/posts/go/02%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F/" class="flex align-center">
      <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
      <span>02变量和常量</span>
    </a>
  
  </div>
  <div>
  
    <a href="/posts/go/04%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/" class="flex align-center">
      <span>04流程控制和运算符</span>
      <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
    </a>
  
  </div>
</div>
 
        
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#特殊整型">特殊整型</a></li>
    <li><a href="#字节byte">字节(Byte)</a></li>
    <li><a href="#数字字面量语法">数字字面量语法</a></li>
    <li><a href="#不同长度转换">不同长度转换</a></li>
  </ul>

  <ul>
    <li><a href="#精度丢失问题">精度丢失问题</a></li>
    <li><a href="#解决精度丢失问题">解决精度丢失问题</a></li>
    <li><a href="#科学计数法表示">科学计数法表示</a></li>
  </ul>

  <ul>
    <li><a href="#len">len</a></li>
    <li><a href="#字符串不可变性">字符串不可变性</a></li>
    <li><a href="#字符串字面量">字符串字面量</a></li>
    <li><a href="#字符串转义符">字符串转义符</a></li>
    <li><a href="#go语言字符编码">Go语言字符编码</a></li>
    <li><a href="#截取字符串">截取字符串</a></li>
    <li><a href="#遍历字符串">遍历字符串</a></li>
    <li><a href="#字符串分割">字符串分割</a></li>
    <li><a href="#字符串-join">字符串 Join</a></li>
    <li><a href="#前缀判断">前缀判断</a></li>
    <li><a href="#后缀判断">后缀判断</a></li>
    <li><a href="#修改字符串">修改字符串</a></li>
    <li><a href="#strconv-包">strconv 包</a></li>
    <li><a href="#字符类型">字符类型</a></li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















