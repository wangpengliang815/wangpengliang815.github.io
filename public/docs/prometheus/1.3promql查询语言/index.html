<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Prometheus å®˜æ–¹æ–‡æ¡£åœ°å€
ç›‘æ§æ ·æœ¬# é€šè¿‡ Node Exporter æš´éœ²çš„ HTTP æœåŠ¡ï¼ŒPrometheus å¯ä»¥é‡‡é›†åˆ°å½“å‰ä¸»æœºæ‰€æœ‰ç›‘æ§æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®ã€‚æ¯”å¦‚ï¼š
# HELP node_cpu_guest_seconds_total Seconds the CPUs spent in guests (VMs) for each mode. # TYPE node_cpu_guest_seconds_total counter node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;user&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;user&#34;} 0 # HELP node_cpu_seconds_total Seconds the CPUs spent in each mode. # TYPE node_cpu_seconds_total counter node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;idle&#34;} 996.7 node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;iowait&#34;} 0.52å…¶ä¸­é # å¼€å¤´çš„æ¯ä¸€è¡Œè¡¨ç¤ºå½“å‰ Node Exporter é‡‡é›†åˆ°çš„ä¸€ä¸ªç›‘æ§æ ·æœ¬ï¼š
node_cpu_seconds_total ï¼šè¡¨ç¤ºå½“å‰æŒ‡æ ‡åç§° å¤§æ‹¬å·ä¸­çš„æ ‡ç­¾ï¼šè¡¨ç¤ºå½“å‰æ ·æœ¬çš„ä¸€äº›ç‰¹å¾å’Œç»´åº¦ æµ®ç‚¹æ•°ï¼šè¡¨ç¤ºè¯¥ç›‘æ§æ ·æœ¬çš„å…·ä½“å€¼ æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰# Prometheus ä¼šå°†æ‰€æœ‰é‡‡é›†åˆ°çš„æ ·æœ¬æ•°æ®ä»¥æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰çš„æ–¹å¼ä¿å­˜åœ¨å†…å­˜æ•°æ®åº“ä¸­ï¼Œå®šæ—¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šã€‚
time-series æ˜¯æŒ‰ç…§æ—¶é—´æˆ³å’Œå€¼çš„åºåˆ—é¡ºåºå­˜æ”¾çš„ï¼Œç§°ä¹‹ä¸ºå‘é‡(vector)
æ¯æ¡ time-series é€šè¿‡æŒ‡æ ‡åç§°(metrics name)å’Œä¸€ç»„æ ‡ç­¾é›†(labelset)å‘½åã€‚å…¶ä¸­æ¯ä¸€ä¸ªç‚¹ç§°ä¸ºä¸€ä¸ªæ ·æœ¬(sample)ã€‚æ ·æœ¬ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š
æŒ‡æ ‡ï¼ˆmetricï¼‰ï¼šmetric name å’Œæè¿°å½“å‰æ ·æœ¬ç‰¹å¾çš„ labelsets æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼šä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³ æ ·æœ¬å€¼ï¼ˆvalueï¼‰ï¼š ä¸€ä¸ª float64 çš„æµ®ç‚¹å‹æ•°æ®è¡¨ç¤ºå½“å‰æ ·æœ¬çš„å€¼ &lt;--------------- metric ---------------------&gt;&lt;-timestamp -&gt;&lt;-value-&gt; http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 94355 http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 94334 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 38473 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 38544 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417560938 =&gt; 4748 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417561287 =&gt; 4785æŒ‡æ ‡ï¼ˆmetricï¼‰# æŒ‡æ ‡ï¼ˆMetricï¼‰é€šè¿‡å¦‚ä¸‹æ ¼å¼è¡¨ç¤ºï¼š
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/prometheus/1.3promql%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/">
  <meta property="og:site_name" content="CODE&#39;NOTE">
  <meta property="og:title" content="CODE&#39;NOTE">
  <meta property="og:description" content="Prometheus å®˜æ–¹æ–‡æ¡£åœ°å€
ç›‘æ§æ ·æœ¬# é€šè¿‡ Node Exporter æš´éœ²çš„ HTTP æœåŠ¡ï¼ŒPrometheus å¯ä»¥é‡‡é›†åˆ°å½“å‰ä¸»æœºæ‰€æœ‰ç›‘æ§æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®ã€‚æ¯”å¦‚ï¼š
# HELP node_cpu_guest_seconds_total Seconds the CPUs spent in guests (VMs) for each mode. # TYPE node_cpu_guest_seconds_total counter node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;user&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;user&#34;} 0 # HELP node_cpu_seconds_total Seconds the CPUs spent in each mode. # TYPE node_cpu_seconds_total counter node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;idle&#34;} 996.7 node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;iowait&#34;} 0.52å…¶ä¸­é # å¼€å¤´çš„æ¯ä¸€è¡Œè¡¨ç¤ºå½“å‰ Node Exporter é‡‡é›†åˆ°çš„ä¸€ä¸ªç›‘æ§æ ·æœ¬ï¼š
node_cpu_seconds_total ï¼šè¡¨ç¤ºå½“å‰æŒ‡æ ‡åç§° å¤§æ‹¬å·ä¸­çš„æ ‡ç­¾ï¼šè¡¨ç¤ºå½“å‰æ ·æœ¬çš„ä¸€äº›ç‰¹å¾å’Œç»´åº¦ æµ®ç‚¹æ•°ï¼šè¡¨ç¤ºè¯¥ç›‘æ§æ ·æœ¬çš„å…·ä½“å€¼ æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰# Prometheus ä¼šå°†æ‰€æœ‰é‡‡é›†åˆ°çš„æ ·æœ¬æ•°æ®ä»¥æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰çš„æ–¹å¼ä¿å­˜åœ¨å†…å­˜æ•°æ®åº“ä¸­ï¼Œå®šæ—¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šã€‚
time-series æ˜¯æŒ‰ç…§æ—¶é—´æˆ³å’Œå€¼çš„åºåˆ—é¡ºåºå­˜æ”¾çš„ï¼Œç§°ä¹‹ä¸ºå‘é‡(vector)
æ¯æ¡ time-series é€šè¿‡æŒ‡æ ‡åç§°(metrics name)å’Œä¸€ç»„æ ‡ç­¾é›†(labelset)å‘½åã€‚å…¶ä¸­æ¯ä¸€ä¸ªç‚¹ç§°ä¸ºä¸€ä¸ªæ ·æœ¬(sample)ã€‚æ ·æœ¬ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š
æŒ‡æ ‡ï¼ˆmetricï¼‰ï¼šmetric name å’Œæè¿°å½“å‰æ ·æœ¬ç‰¹å¾çš„ labelsets æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼šä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³ æ ·æœ¬å€¼ï¼ˆvalueï¼‰ï¼š ä¸€ä¸ª float64 çš„æµ®ç‚¹å‹æ•°æ®è¡¨ç¤ºå½“å‰æ ·æœ¬çš„å€¼ &lt;--------------- metric ---------------------&gt;&lt;-timestamp -&gt;&lt;-value-&gt; http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 94355 http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 94334 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 38473 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 38544 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417560938 =&gt; 4748 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417561287 =&gt; 4785æŒ‡æ ‡ï¼ˆmetricï¼‰# æŒ‡æ ‡ï¼ˆMetricï¼‰é€šè¿‡å¦‚ä¸‹æ ¼å¼è¡¨ç¤ºï¼š">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">


  <meta itemprop="name" content="CODE&#39;NOTE">
  <meta itemprop="description" content="Prometheus å®˜æ–¹æ–‡æ¡£åœ°å€
ç›‘æ§æ ·æœ¬# é€šè¿‡ Node Exporter æš´éœ²çš„ HTTP æœåŠ¡ï¼ŒPrometheus å¯ä»¥é‡‡é›†åˆ°å½“å‰ä¸»æœºæ‰€æœ‰ç›‘æ§æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®ã€‚æ¯”å¦‚ï¼š
# HELP node_cpu_guest_seconds_total Seconds the CPUs spent in guests (VMs) for each mode. # TYPE node_cpu_guest_seconds_total counter node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;0&#34;,mode=&#34;user&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;nice&#34;} 0 node_cpu_guest_seconds_total{cpu=&#34;1&#34;,mode=&#34;user&#34;} 0 # HELP node_cpu_seconds_total Seconds the CPUs spent in each mode. # TYPE node_cpu_seconds_total counter node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;idle&#34;} 996.7 node_cpu_seconds_total{cpu=&#34;0&#34;,mode=&#34;iowait&#34;} 0.52å…¶ä¸­é # å¼€å¤´çš„æ¯ä¸€è¡Œè¡¨ç¤ºå½“å‰ Node Exporter é‡‡é›†åˆ°çš„ä¸€ä¸ªç›‘æ§æ ·æœ¬ï¼š
node_cpu_seconds_total ï¼šè¡¨ç¤ºå½“å‰æŒ‡æ ‡åç§° å¤§æ‹¬å·ä¸­çš„æ ‡ç­¾ï¼šè¡¨ç¤ºå½“å‰æ ·æœ¬çš„ä¸€äº›ç‰¹å¾å’Œç»´åº¦ æµ®ç‚¹æ•°ï¼šè¡¨ç¤ºè¯¥ç›‘æ§æ ·æœ¬çš„å…·ä½“å€¼ æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰# Prometheus ä¼šå°†æ‰€æœ‰é‡‡é›†åˆ°çš„æ ·æœ¬æ•°æ®ä»¥æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰çš„æ–¹å¼ä¿å­˜åœ¨å†…å­˜æ•°æ®åº“ä¸­ï¼Œå®šæ—¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šã€‚
time-series æ˜¯æŒ‰ç…§æ—¶é—´æˆ³å’Œå€¼çš„åºåˆ—é¡ºåºå­˜æ”¾çš„ï¼Œç§°ä¹‹ä¸ºå‘é‡(vector)
æ¯æ¡ time-series é€šè¿‡æŒ‡æ ‡åç§°(metrics name)å’Œä¸€ç»„æ ‡ç­¾é›†(labelset)å‘½åã€‚å…¶ä¸­æ¯ä¸€ä¸ªç‚¹ç§°ä¸ºä¸€ä¸ªæ ·æœ¬(sample)ã€‚æ ·æœ¬ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š
æŒ‡æ ‡ï¼ˆmetricï¼‰ï¼šmetric name å’Œæè¿°å½“å‰æ ·æœ¬ç‰¹å¾çš„ labelsets æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼šä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³ æ ·æœ¬å€¼ï¼ˆvalueï¼‰ï¼š ä¸€ä¸ª float64 çš„æµ®ç‚¹å‹æ•°æ®è¡¨ç¤ºå½“å‰æ ·æœ¬çš„å€¼ &lt;--------------- metric ---------------------&gt;&lt;-timestamp -&gt;&lt;-value-&gt; http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 94355 http_request_total{status=&#34;200&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 94334 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417560938 =&gt; 38473 http_request_total{status=&#34;404&#34;, method=&#34;GET&#34;}@1434417561287 =&gt; 38544 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417560938 =&gt; 4748 http_request_total{status=&#34;200&#34;, method=&#34;POST&#34;}@1434417561287 =&gt; 4785æŒ‡æ ‡ï¼ˆmetricï¼‰# æŒ‡æ ‡ï¼ˆMetricï¼‰é€šè¿‡å¦‚ä¸‹æ ¼å¼è¡¨ç¤ºï¼š">
  <meta itemprop="wordCount" content="936">

<title>1.3 Prom QlæŸ¥è¯¢è¯­è¨€ | CODE&#39;NOTE</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/prometheus/1.3promql%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/">
<link rel="stylesheet" href="/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css" integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG&#43;T2l66Bw7pV8=" crossorigin="anonymous">


  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.72bb05277db45a350ae52e783022518711f9de188da0da18be86b61b9cf0bf4c.js" integrity="sha256-crsFJ320WjUK5S54MCJRhxH53hiNoNoYvoa2G5zwv0w=" crossorigin="anonymous"></script>



  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CODE&#39;NOTE</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0a19d3a7daa7f2a902390735b978f141" class="toggle"  />
    <label for="section-0a19d3a7daa7f2a902390735b978f141" class="flex">
      <a role="button" class="">
        ğŸ“š .NET</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" class="">
      å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å†…å­˜åˆ†é…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%8F%8D%E5%B0%84%E6%8A%80%E6%9C%AF/" class="">
      åå°„æŠ€æœ¯</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%9F%BA%E7%A1%80%E5%90%88%E9%9B%86/" class="">
      åŸºç¡€åˆé›†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="">
      å¤šçº¿ç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%A7%94%E6%89%98%E5%92%8C%E4%BA%8B%E4%BB%B6/" class="">
      å§”æ‰˜å’Œäº‹ä»¶</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%B9%B6%E8%A1%8C%E7%BC%96%E7%A8%8B/" class="">
      å¹¶è¡Œç¼–ç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" class="">
      å¼‚æ­¥ç¼–ç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="">
      æ•°æ®ç»“æ„</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E6%B3%9B%E5%9E%8B%E6%8A%80%E6%9C%AF/" class="">
      æ³›å‹æŠ€æœ¯</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/" class="">
      çº¿ç¨‹åŒæ­¥</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dotnet/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="">
      é¢å‘å¯¹è±¡</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a711e15e6217a03d3f896c4001f054af" class="toggle"  />
    <label for="section-a711e15e6217a03d3f896c4001f054af" class="flex">
      <a role="button" class="">
        ğŸ­ PMI-ACP</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/acp/pmi-acp%E5%9F%BA%E7%A1%80%E4%BA%86%E8%A7%A3/" class="">
      Pmi AcpåŸºç¡€äº†è§£</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acp/pmi-acpdown/" class="">
      Pmi Acpdown</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acp/pmi-acp%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B001/" class="">
      Pmi Acpå¤‡è€ƒç¬”è®°01</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acp/pmi-acp%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B002/" class="">
      Pmi Acpå¤‡è€ƒç¬”è®°02</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acp/pmi-acp%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B003/" class="">
      Pmi Acpå¤‡è€ƒç¬”è®°03</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-158c55270b3b873b36b554def2308a8c" class="toggle"  />
    <label for="section-158c55270b3b873b36b554def2308a8c" class="flex">
      <a role="button" class="">
        âŒ› è½¯ä»¶æµ‹è¯•</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/test/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" class="">
      å•å…ƒæµ‹è¯•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/test/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95k6/" class="">
      å‹åŠ›æµ‹è¯•k6</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/test/%E8%87%AA%E5%8A%A8%E5%8C%96ui%E6%B5%8B%E8%AF%95/" class="">
      è‡ªåŠ¨åŒ– Uiæµ‹è¯•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/test/%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95/" class="">
      é›†æˆæµ‹è¯•</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e4cd5c9690a397be164e18996eeec25" class="toggle" checked />
    <label for="section-9e4cd5c9690a397be164e18996eeec25" class="flex">
      <a role="button" class="">
        â›·ï¸ Prometheus</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus/1.1prometheus%E7%AE%80%E4%BB%8B%E5%8F%8A%E5%AE%89%E8%A3%85/" class="">
      1.1 Prometheusç®€ä»‹åŠå®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus/1.2exporter%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" class="">
      1.2 Exporteræ•°æ®é‡‡é›†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus/1.3promql%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/" class="active">
      1.3 Prom QlæŸ¥è¯¢è¯­è¨€</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus/1.4alertmanager%E5%91%8A%E8%AD%A6%E5%A4%84%E7%90%86/" class="">
      1.4 Alertmanagerå‘Šè­¦å¤„ç†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/prometheus/1.5grafana%E7%9B%91%E6%8E%A7%E5%8F%AF%E8%A7%86%E5%8C%96/" class="">
      1.5 Grafanaç›‘æ§å¯è§†åŒ–</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ed189cb26f56d17bb0a62923d94a7183" class="toggle"  />
    <label for="section-ed189cb26f56d17bb0a62923d94a7183" class="flex">
      <a role="button" class="">
        ğŸ‡ RabbitMq</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.1rabbitmq%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%AE%89%E8%A3%85/" class="">
      1.1 Rabbit Mqæ¦‚å¿µåŠå®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.2%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D/" class="">
      1.2å·¥ä½œæ¨¡å¼ä»‹ç»</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.3%E6%B6%88%E6%81%AF%E7%A1%AE%E8%AE%A4%E5%8F%8A%E6%8C%81%E4%B9%85%E5%8C%96/" class="">
      1.3æ¶ˆæ¯ç¡®è®¤åŠæŒä¹…åŒ–</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.4%E4%B8%A4%E7%A7%8D%E6%B6%88%E8%B4%B9%E6%A8%A1%E5%BC%8F%E5%92%8Cqos%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="">
      1.4ä¸¤ç§æ¶ˆè´¹æ¨¡å¼å’Œ Qosçš„å®ç°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.5channel%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95/" class="">
      1.5 Channelå¸¸è§æ–¹æ³•</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.6rabbitmq%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="">
      1.6 Rabbit Mqå¸¸ç”¨å‘½ä»¤</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.7rabbitmq%E5%B8%B8%E8%A7%81%E7%AD%96%E7%95%A5/" class="">
      1.7 Rabbit Mqå¸¸è§ç­–ç•¥</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.8rabbitmq%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="">
      1.8 Rabbit Mqå¸¸è§é—®é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/1.9rabbitmq%E9%9B%86%E7%BE%A4%E6%96%B9%E6%A1%88/" class="">
      1.9 Rabbit Mqé›†ç¾¤æ–¹æ¡ˆ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rabbitmq/%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5rabbitmq/" class="">
      å®¢æˆ·ç«¯è¿æ¥ Rabbit Mq</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-41a08237d2a583bb6567a7bd11f94f3e" class="toggle"  />
    <label for="section-41a08237d2a583bb6567a7bd11f94f3e" class="flex">
      <a role="button" class="">
        ğŸ¹ Golang</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/go/01%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="">
      01å¼€å‘ç¯å¢ƒæ­å»º</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/02%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F/" class="">
      02å˜é‡å’Œå¸¸é‡</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/03%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="">
      03åŸºæœ¬æ•°æ®ç±»å‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/04%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/" class="">
      04æµç¨‹æ§åˆ¶å’Œè¿ç®—ç¬¦</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/05%E6%95%B0%E7%BB%84/" class="">
      05æ•°ç»„</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/06%E5%88%87%E7%89%87/" class="">
      06åˆ‡ç‰‡</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/07map/" class="">
      07map</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/08%E5%87%BD%E6%95%B0/" class="">
      08å‡½æ•°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/09%E6%8C%87%E9%92%88/" class="">
      09æŒ‡é’ˆ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/10%E5%8F%8D%E5%B0%84/" class="">
      10åå°„</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/11%E7%BB%93%E6%9E%84%E4%BD%93/" class="">
      11ç»“æ„ä½“</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/12%E6%8E%A5%E5%8F%A3/" class="">
      12æ¥å£</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/channel/" class="">
      Channel</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/csp%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/" class="">
      Cspå¹¶å‘æ¨¡å‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/goroutine/" class="">
      Goroutine</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/gpm%E5%8E%9F%E7%90%86%E4%B8%8E%E8%B0%83%E5%BA%A6/" class="">
      GpmåŸç†ä¸è°ƒåº¦</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/" class="">
      åŸå­æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8%E5%92%8C%E9%94%81/" class="">
      å¹¶å‘å®‰å…¨å’Œé”</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E6%A0%87%E5%87%86%E5%BA%93/flag/" class="">
      Flag</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E6%A0%87%E5%87%86%E5%BA%93/fmt/" class="">
      Fmt</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E6%A0%87%E5%87%86%E5%BA%93/log/" class="">
      Log</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/go/%E6%A0%87%E5%87%86%E5%BA%93/time/" class="">
      Time</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a212feaafca18e39712c162267ab7930" class="toggle"  />
    <label for="section-a212feaafca18e39712c162267ab7930" class="flex">
      <a role="button" class="">
        ğŸ’« Microservice</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/1.1%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8%E4%B9%8B%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/" class="">
      1.1å¾®æœåŠ¡å…¥é—¨ä¹‹é¡¹ç›®æ­å»º</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/1.2%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8%E4%B9%8B%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0/" class="">
      1.2å¾®æœåŠ¡å…¥é—¨ä¹‹æœåŠ¡æ³¨å†Œä¸å‘ç°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/1.3%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8%E4%B9%8B%E7%BD%91%E5%85%B3/" class="">
      1.3å¾®æœåŠ¡å…¥é—¨ä¹‹ç½‘å…³</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/1.4%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8%E4%B9%8B%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/" class="">
      1.4å¾®æœåŠ¡å…¥é—¨ä¹‹äº‹ä»¶æ€»çº¿</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/1.5%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8%E4%B9%8Bdockercompose/" class="">
      1.5å¾®æœåŠ¡å…¥é—¨ä¹‹ Docker Compose</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/microservice/consul%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0/" class="">
      ConsulæœåŠ¡æ³¨å†Œå‘ç°</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-797c59d4c24223beac308482801fe996" class="toggle"  />
    <label for="section-797c59d4c24223beac308482801fe996" class="flex">
      <a role="button" class="">
        ğŸ“¦ Redis</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.10redis%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="">
      1.10 Rediså¸¸è§é—®é¢˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.1nosql%E6%A6%82%E8%BF%B0/" class="">
      1.1 No Sqlæ¦‚è¿°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.2redis%E5%AE%89%E8%A3%85/" class="">
      1.2 Rediså®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.3redis%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="">
      1.3 RedisåŸºæœ¬æ•°æ®ç±»å‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.4redis%E7%89%B9%E6%AE%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="">
      1.4 Redisç‰¹æ®Šæ•°æ®ç±»å‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.5redis%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C/" class="">
      1.5 Redisäº‹åŠ¡æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.6redis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">
      1.6 Redisé…ç½®æ–‡ä»¶è¯¦è§£</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.7redis%E6%8C%81%E4%B9%85%E5%8C%96/" class="">
      1.7 RedisæŒä¹…åŒ–</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.8redis%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85/" class="">
      1.8 Rediså‘å¸ƒè®¢é˜…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/1.9redis%E9%9B%86%E7%BE%A4%E6%96%B9%E6%A1%88/" class="">
      1.9 Redisé›†ç¾¤æ–¹æ¡ˆ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BAredis%E9%9B%86%E7%BE%A4/" class="">
      ä½¿ç”¨ Dockeræ­å»º Redisé›†ç¾¤</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5redis/" class="">
      å®¢æˆ·ç«¯è¿æ¥ Redis</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-146aedbcf8714fb62838757a1082a467" class="toggle"  />
    <label for="section-146aedbcf8714fb62838757a1082a467" class="flex">
      <a role="button" class="">
        ğŸ” ELK</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/elk/1.1elastaticsearch%E5%85%A5%E9%97%A8/" class="">
      1.1 Elastatic Searchå…¥é—¨</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/elk/1.2elastaticsearch%E9%85%8D%E7%BD%AE/" class="">
      1.2 Elastatic Searché…ç½®</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/elk/1.3%E4%BD%BF%E7%94%A8kibana%E6%93%8D%E4%BD%9Ces/" class="">
      1.3ä½¿ç”¨ Kibanaæ“ä½œ Es</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e876d2a6c86b79fe88fd120640b84773" class="toggle"  />
    <label for="section-e876d2a6c86b79fe88fd120640b84773" class="flex">
      <a role="button" class="">
        ğŸš¢ Docker</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.1docker%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%AE%89%E8%A3%85/" class="">
      1.1 Dockeræ¦‚å¿µåŠå®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.2docker%E9%95%9C%E5%83%8F/" class="">
      1.2 Dockeré•œåƒ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.3docker%E5%AE%B9%E5%99%A8/" class="">
      1.3 Dockerå®¹å™¨</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.4docker%E4%BB%93%E5%BA%93/" class="">
      1.4 Dockerä»“åº“</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.5docker%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/" class="">
      1.5 Dockeræ•°æ®ç®¡ç†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.6docker%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F/" class="">
      1.6 Dockerå®¹å™¨ç½‘ç»œæ¨¡å¼</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.7docker%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/" class="">
      1.7 Dockeré«˜çº§ç½‘ç»œé…ç½®</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.8dockerfile/" class="">
      1.8 Dockerfile</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/1.9dockercompose/" class="">
      1.9 Docker Compose</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/2.0dockermachine/" class="">
      2.0 Docker Machine</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/2.1dockerswarm/" class="">
      2.1 Docker Swarm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/2.2docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="">
      2.2 Dockerå¸¸ç”¨å‘½ä»¤</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/docker/2.3portainer%E5%8F%AF%E8%A7%86%E5%8C%96%E9%9D%A2%E6%9D%BF/" class="">
      2.3 Portainerå¯è§†åŒ–é¢æ¿</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-31ced7a6f12c0e1d312f5c9d5aa42f8e" class="toggle"  />
    <label for="section-31ced7a6f12c0e1d312f5c9d5aa42f8e" class="flex">
      <a role="button" class="">
        ğŸ•¸ï¸ K8s</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes/kubernetes%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="">
      KubernetesåŸºç¡€çŸ¥è¯†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kubernetes/kubernetes%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/" class="">
      Kubernetesé›†ç¾¤å®‰è£…</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7939089f2d38db5071ac1464e01a040" class="toggle"  />
    <label for="section-b7939089f2d38db5071ac1464e01a040" class="flex">
      <a role="button" class="">
        ğŸ–¥ï¸ Linux</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/centos7%E5%8D%87%E7%BA%A7gcc%E7%89%88%E6%9C%AC/" class="">
      Centos7å‡çº§gccç‰ˆæœ¬</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/centos%E5%AE%89%E8%A3%85hexo/" class="">
      Centoså®‰è£… Hexo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/centos%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/" class="">
      Centosç½‘ç»œé…ç½®</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="">
      Linuxå¸¸ç”¨å‘½ä»¤</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/linux%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E/" class="">
      Linuxç›®å½•è¯´æ˜</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux/vmware%E5%AE%89%E8%A3%85centos/" class="">
      Vmwareå®‰è£… Centos</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3f1b0bb4bbdd3ea5d43f21f5b8664c28" class="toggle"  />
    <label for="section-3f1b0bb4bbdd3ea5d43f21f5b8664c28" class="flex">
      <a role="button" class="">
        ğŸ›ï¸ Devops</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/devops/gitlab%E5%AE%89%E8%A3%85/" class="">
      Gitlabå®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/devops/jenkins%E5%AE%89%E8%A3%85/" class="">
      Jenkinså®‰è£…</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/devops/jenkins%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C/" class="">
      Jenkinså¸¸è§æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/devops/nugetserver%E6%90%AD%E5%BB%BA/" class="">
      Nuget Serveræ­å»º</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>1.3 Prom QlæŸ¥è¯¢è¯­è¨€</h3>

  <label for="toc-control">
    
    <img src="/icons/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#counter-åªå¢ä¸å‡">Counter-&gt;åªå¢ä¸å‡</a></li>
    <li><a href="#gauge-å¯å¢å¯å‡">Gauge-&gt;å¯å¢å¯å‡</a></li>
    <li><a href="#histogramsummary">Histogram/Summary</a></li>
  </ul>

  <ul>
    <li><a href="#æŸ¥è¯¢æ—¶é—´åºåˆ—">æŸ¥è¯¢æ—¶é—´åºåˆ—</a></li>
    <li><a href="#æ ‡ç­¾è¿‡æ»¤">æ ‡ç­¾è¿‡æ»¤</a></li>
    <li><a href="#èŒƒå›´æŸ¥è¯¢">èŒƒå›´æŸ¥è¯¢</a></li>
    <li><a href="#æ—¶é—´ä½ç§»">æ—¶é—´ä½ç§»</a></li>
    <li><a href="#èšåˆæ“ä½œ">èšåˆæ“ä½œ</a></li>
    <li><a href="#æ“ä½œç¬¦">æ“ä½œç¬¦</a>
      <ul>
        <li><a href="#æ•°å­¦è¿ç®—">æ•°å­¦è¿ç®—</a></li>
        <li><a href="#å¸ƒå°”è¿ç®—">å¸ƒå°”è¿ç®—</a></li>
        <li><a href="#bool-ä¿®é¥°ç¬¦">bool ä¿®é¥°ç¬¦</a></li>
      </ul>
    </li>
    <li><a href="#é›†åˆè¿ç®—ç¬¦">é›†åˆè¿ç®—ç¬¦</a></li>
    <li><a href="#æ“ä½œç¬¦ä¼˜å…ˆçº§">æ“ä½œç¬¦ä¼˜å…ˆçº§</a></li>
    <li><a href="#åŒ¹é…æ¨¡å¼">åŒ¹é…æ¨¡å¼</a>
      <ul>
        <li><a href="#ä¸€å¯¹ä¸€åŒ¹é…">ä¸€å¯¹ä¸€åŒ¹é…</a></li>
        <li><a href="#å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š">å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#withoutby">without/by</a></li>
    <li><a href="#count_values">count_values</a></li>
    <li><a href="#topkboottomk">topk/boottomk</a></li>
    <li><a href="#quantile">quantile</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><p><a href="https://prometheus.io/docs/introduction">Prometheus å®˜æ–¹æ–‡æ¡£åœ°å€</a></p>
<h1 id="ç›‘æ§æ ·æœ¬">ç›‘æ§æ ·æœ¬<a class="anchor" href="#%e7%9b%91%e6%8e%a7%e6%a0%b7%e6%9c%ac">#</a></h1>
<p>é€šè¿‡ Node Exporter æš´éœ²çš„ HTTP æœåŠ¡ï¼ŒPrometheus å¯ä»¥é‡‡é›†åˆ°å½“å‰ä¸»æœºæ‰€æœ‰ç›‘æ§æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># HELP node_cpu_guest_seconds_total Seconds the CPUs spent in guests (VMs) for each mode.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TYPE node_cpu_guest_seconds_total counter</span>
</span></span><span style="display:flex;"><span>node_cpu_guest_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nice&#34;</span><span style="color:#f92672">}</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>node_cpu_guest_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">}</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>node_cpu_guest_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nice&#34;</span><span style="color:#f92672">}</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>node_cpu_guest_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">}</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># HELP node_cpu_seconds_total Seconds the CPUs spent in each mode.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TYPE node_cpu_seconds_total counter</span>
</span></span><span style="display:flex;"><span>node_cpu_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;idle&#34;</span><span style="color:#f92672">}</span> 996.7
</span></span><span style="display:flex;"><span>node_cpu_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;iowait&#34;</span><span style="color:#f92672">}</span> 0.52</span></span></code></pre></div><p>å…¶ä¸­é <code>#</code> å¼€å¤´çš„æ¯ä¸€è¡Œè¡¨ç¤ºå½“å‰ Node Exporter é‡‡é›†åˆ°çš„ä¸€ä¸ªç›‘æ§æ ·æœ¬ï¼š</p>
<ul>
<li><code>node_cpu_seconds_total</code> ï¼šè¡¨ç¤ºå½“å‰æŒ‡æ ‡åç§°</li>
<li>å¤§æ‹¬å·ä¸­çš„æ ‡ç­¾ï¼šè¡¨ç¤ºå½“å‰æ ·æœ¬çš„ä¸€äº›ç‰¹å¾å’Œç»´åº¦</li>
<li>æµ®ç‚¹æ•°ï¼šè¡¨ç¤ºè¯¥ç›‘æ§æ ·æœ¬çš„å…·ä½“å€¼</li>
</ul>
<h1 id="æ—¶é—´åºåˆ—time-series">æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰<a class="anchor" href="#%e6%97%b6%e9%97%b4%e5%ba%8f%e5%88%97time-series">#</a></h1>
<p>Prometheus ä¼šå°†æ‰€æœ‰é‡‡é›†åˆ°çš„æ ·æœ¬æ•°æ®ä»¥æ—¶é—´åºåˆ—ï¼ˆtime-seriesï¼‰çš„æ–¹å¼ä¿å­˜åœ¨å†…å­˜æ•°æ®åº“ä¸­ï¼Œå®šæ—¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šã€‚</p>
<blockquote class='book-hint '>
<p>time-series æ˜¯æŒ‰ç…§æ—¶é—´æˆ³å’Œå€¼çš„åºåˆ—é¡ºåºå­˜æ”¾çš„ï¼Œç§°ä¹‹ä¸ºå‘é‡(vector)</p>
</blockquote><p>æ¯æ¡ time-series é€šè¿‡æŒ‡æ ‡åç§°(metrics name)å’Œä¸€ç»„æ ‡ç­¾é›†(labelset)å‘½åã€‚å…¶ä¸­æ¯ä¸€ä¸ªç‚¹ç§°ä¸ºä¸€ä¸ªæ ·æœ¬(sample)ã€‚æ ·æœ¬ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æŒ‡æ ‡ï¼ˆmetricï¼‰ï¼šmetric name å’Œæè¿°å½“å‰æ ·æœ¬ç‰¹å¾çš„ labelsets</li>
<li>æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼šä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³</li>
<li>æ ·æœ¬å€¼ï¼ˆvalueï¼‰ï¼š ä¸€ä¸ª float64 çš„æµ®ç‚¹å‹æ•°æ®è¡¨ç¤ºå½“å‰æ ·æœ¬çš„å€¼</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;--------------- metric ---------------------&gt;&lt;-timestamp -&gt;&lt;-value-&gt;
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">}</span>@1434417560938 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">94355</span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">}</span>@1434417561287 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">94334</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;404&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">}</span>@1434417560938 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">38473</span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;404&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">}</span>@1434417561287 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">38544</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span><span style="color:#f92672">}</span>@1434417560938 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">4748</span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{</span>status<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span><span style="color:#f92672">}</span>@1434417561287 <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">4785</span></span></span></code></pre></div><h1 id="æŒ‡æ ‡metric">æŒ‡æ ‡ï¼ˆmetricï¼‰<a class="anchor" href="#%e6%8c%87%e6%a0%87metric">#</a></h1>
<p>æŒ‡æ ‡ï¼ˆMetricï¼‰é€šè¿‡å¦‚ä¸‹æ ¼å¼è¡¨ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;metric name&gt;<span style="color:#f92672">{</span>&lt;label name&gt;<span style="color:#f92672">=</span>&lt;label value&gt;, ...<span style="color:#f92672">}</span></span></span></code></pre></div><ul>
<li>æŒ‡æ ‡åç§°(metric name)ï¼šè¡¨ç¤ºè¢«ç›‘æ§æ ·æœ¬çš„å«ä¹‰ã€‚æ¯”å¦‚ï¼š<code>http_request_total</code> è¡¨ç¤ºå½“å‰ç³»ç»Ÿæ¥æ”¶åˆ°çš„HTTPè¯·æ±‚æ€»é‡ã€‚æŒ‡æ ‡åç§°åªèƒ½ç”±ASCIIå­—ç¬¦ã€æ•°å­—ã€ä¸‹åˆ’çº¿ä»¥åŠå†’å·ç»„æˆå¹¶å¿…é¡»ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ <code>[a-zA-Z_:][a-zA-Z0-9_:]*</code></li>
<li>æ ‡ç­¾(label)ï¼šåæ˜ å½“å‰æ ·æœ¬çš„ç‰¹å¾ç»´åº¦ï¼Œé€šè¿‡è¿™äº›ç»´åº¦ Prometheus å¯ä»¥å¯¹æ ·æœ¬æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œèšåˆç­‰ã€‚æ ‡ç­¾çš„åç§°åªèƒ½ç”±ASCIIå­—ç¬¦ã€æ•°å­—ä»¥åŠä¸‹åˆ’çº¿ç»„æˆå¹¶æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼ <code>[a-zA-Z_][a-zA-Z0-9_]*</code></li>
</ul>
<p>å…¶ä¸­ä»¥ <code>__</code> ä½œä¸ºå‰ç¼€çš„æ ‡ç­¾æ˜¯ç³»ç»Ÿä¿ç•™çš„å…³é”®å­—ï¼Œåªèƒ½åœ¨ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ã€‚æ ‡ç­¾çš„å€¼å¯ä»¥åŒ…å«ä»»ä½• Unicode ç¼–ç çš„å­—ç¬¦ã€‚</p>
<p>åœ¨ Prometheus çš„åº•å±‚å®ç°ä¸­æŒ‡æ ‡åç§°å®é™…ä¸Šæ˜¯ä»¥ <code>__name__=&lt;metric name&gt;</code> çš„å½¢å¼ä¿å­˜åœ¨æ•°æ®åº“ä¸­çš„ï¼Œå› æ­¤ä»¥ä¸‹ä¸¤ç§æ–¹å¼å‡è¡¨ç¤ºçš„åŒä¸€æ¡ time-seriesï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>api_http_requests_total<span style="color:#f92672">{</span>method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/messages&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>ç­‰åŒäºï¼š
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>__name__<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;api_http_requests_total&#34;</span>ï¼Œmethod<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/messages&#34;</span><span style="color:#f92672">}</span></span></span></code></pre></div><blockquote class='book-hint '>
<p>åœ¨ Prometheus æºç ä¸­ä¹Ÿå¯ä»¥æŒ‡æ ‡(Metric)å¯¹åº”çš„æ•°æ®ç»“æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>type Metric LabelSet
</span></span><span style="display:flex;"><span>type LabelSet map<span style="color:#f92672">[</span>LabelName<span style="color:#f92672">]</span>LabelValue
</span></span><span style="display:flex;"><span>type LabelName string
</span></span><span style="display:flex;"><span>type LabelValue string</span></span></code></pre></div></blockquote><h1 id="metric-ç±»å‹">Metric ç±»å‹<a class="anchor" href="#metric-%e7%b1%bb%e5%9e%8b">#</a></h1>
<p>ä¸ºäº†èƒ½å¤Ÿç†è§£å’ŒåŒºåˆ†ä¸åŒç›‘æ§æŒ‡æ ‡ä¹‹é—´çš„å·®å¼‚ï¼ŒPrometheus å®šä¹‰äº†4ä¸­ä¸åŒçš„æŒ‡æ ‡ç±»å‹ï¼ˆmetric typeï¼‰ï¼š</p>
<ol>
<li>Counterï¼ˆè®¡æ•°å™¨ï¼‰</li>
<li>Gaugeï¼ˆä»ªè¡¨ç›˜ï¼‰</li>
<li>Histogramï¼ˆç›´æ–¹å›¾ï¼‰</li>
<li>Summaryï¼ˆæ‘˜è¦ï¼‰</li>
</ol>
<p>Exporter Node è¿”å›çš„æ ·æœ¬æ•°æ®ä¸­ï¼Œå…¶æ³¨é‡Šä¸­ä¹ŸåŒ…å«äº†è¯¥æ ·æœ¬çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># HELP node_cpu_seconds_total Seconds the CPUs spent in each mode.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TYPE node_cpu_seconds_total counter</span>
</span></span><span style="display:flex;"><span>node_cpu_seconds_total<span style="color:#f92672">{</span>cpu<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;idle&#34;</span><span style="color:#f92672">}</span> 996.7</span></span></code></pre></div><h2 id="counter-åªå¢ä¸å‡">Counter-&gt;åªå¢ä¸å‡<a class="anchor" href="#counter-%e5%8f%aa%e5%a2%9e%e4%b8%8d%e5%87%8f">#</a></h2>
<p>Counter ç±»å‹çš„æŒ‡æ ‡å·¥ä½œæ–¹å¼å’Œè®¡æ•°å™¨ä¸€æ ·ï¼Œåªå¢ä¸å‡ï¼ˆé™¤éç³»ç»Ÿå‘ç”Ÿé‡ç½®ï¼‰ã€‚å¦‚ <code>http_requests_total</code> ï¼Œ<code>node_cpu</code> éƒ½æ˜¯ Counter ç±»å‹çš„ç›‘æ§æŒ‡æ ‡ã€‚ ä¸€èˆ¬åœ¨å®šä¹‰ Counter ç±»å‹æŒ‡æ ‡çš„åç§°æ—¶æ¨èä½¿ç”¨ <code>_total</code> ä½œä¸ºåç¼€ã€‚</p>
<p>ç¤ºä¾‹ï¼šé€šè¿‡ <code>rate()</code> å‡½æ•°è·å–HTTPè¯·æ±‚é‡çš„å¢é•¿ç‡ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>rate<span style="color:#f92672">(</span>http_requests_total<span style="color:#f92672">[</span>5m<span style="color:#f92672">])</span></span></span></code></pre></div><p>æŸ¥è¯¢å½“å‰ç³»ç»Ÿä¸­ï¼Œè®¿é—®é‡å‰10çš„ HTTP åœ°å€ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>topk<span style="color:#f92672">(</span>10, http_requests_total<span style="color:#f92672">)</span></span></span></code></pre></div><h2 id="gauge-å¯å¢å¯å‡">Gauge-&gt;å¯å¢å¯å‡<a class="anchor" href="#gauge-%e5%8f%af%e5%a2%9e%e5%8f%af%e5%87%8f">#</a></h2>
<p>Gauge ç±»å‹çš„æŒ‡æ ‡ä¾§é‡äºååº”ç³»ç»Ÿçš„å½“å‰çŠ¶æ€ã€‚å› æ­¤è¿™ç±»æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®å¯å¢å¯å‡ã€‚å¦‚ï¼š<code>node_memory_MemFreeï¼ˆä¸»æœºå½“å‰ç©ºé—²çš„å†…å®¹å¤§å°ï¼‰</code>ã€<code>node_memory_MemAvailable</code>ï¼ˆå¯ç”¨å†…å­˜å¤§å°ï¼‰éƒ½æ˜¯ Gauge ç±»å‹çš„ç›‘æ§æŒ‡æ ‡ã€‚</p>
<p>é€šè¿‡ Gauge æŒ‡æ ‡ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹ç³»ç»Ÿçš„å½“å‰çŠ¶æ€ã€‚å¯¹äº Gauge ç±»å‹çš„ç›‘æ§æŒ‡æ ‡ï¼Œé€šè¿‡ PromQL å†…ç½®å‡½æ•° <code>delta()</code> å¯ä»¥è·å–æ ·æœ¬åœ¨ä¸€æ®µæ—¶é—´çš„å˜åŒ–æƒ…å†µã€‚ä¾‹å¦‚ï¼Œè®¡ç®—CPUæ¸©åº¦åœ¨ä¸¤ä¸ªå°æ—¶å†…çš„å·®å¼‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>delta<span style="color:#f92672">(</span>cpu_temp_celsius<span style="color:#f92672">{</span>host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zeus&#34;</span><span style="color:#f92672">}[</span>2h<span style="color:#f92672">])</span></span></span></code></pre></div><p>è¿˜å¯ä»¥ä½¿ç”¨ <code>deriv()</code> è®¡ç®—æ ·æœ¬çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œç”šè‡³ç›´æ¥ä½¿ç”¨ <code>predict_linear()</code> å¯¹æ•°æ®çš„å˜åŒ–è¶‹åŠ¿è¿›è¡Œé¢„æµ‹ã€‚ä¾‹å¦‚ï¼šé¢„æµ‹ç³»ç»Ÿç£ç›˜ç©ºé—´åœ¨4ä¸ªå°æ—¶ä¹‹åçš„å‰©ä½™æƒ…å†µï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>predict_linear<span style="color:#f92672">(</span>node_filesystem_free<span style="color:#f92672">{</span>job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;node&#34;</span><span style="color:#f92672">}[</span>1h<span style="color:#f92672">]</span>, <span style="color:#ae81ff">4</span> * 3600<span style="color:#f92672">)</span></span></span></code></pre></div><h2 id="histogramsummary">Histogram/Summary<a class="anchor" href="#histogramsummary">#</a></h2>
<p>Histogram å’Œ Summary ä¸»è¦ç”¨äºç»Ÿè®¡å’Œåˆ†ææ ·æœ¬çš„åˆ†å¸ƒæƒ…å†µã€‚</p>
<blockquote class='book-hint '>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹äººä»¬éƒ½å€¾å‘äºä½¿ç”¨æŸäº›é‡åŒ–æŒ‡æ ‡çš„å¹³å‡å€¼ï¼Œä¾‹å¦‚CPUçš„å¹³å‡ä½¿ç”¨ç‡ã€é¡µé¢çš„å¹³å‡å“åº”æ—¶é—´ã€‚è¿™ç§æ–¹å¼çš„é—®é¢˜å¾ˆæ˜æ˜¾ï¼Œä»¥ç³»ç»ŸAPIè°ƒç”¨çš„å¹³å‡å“åº”æ—¶é—´ä¸ºä¾‹ï¼šå¦‚æœå¤§å¤šæ•°APIè¯·æ±‚éƒ½ç»´æŒåœ¨100ms çš„å“åº”æ—¶é—´èŒƒå›´å†…ï¼Œè€Œä¸ªåˆ«è¯·æ±‚çš„å“åº”æ—¶é—´éœ€è¦ 5sï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´æŸäº›WEBé¡µé¢çš„å“åº”æ—¶é—´è½åˆ°ä¸­ä½æ•°çš„æƒ…å†µï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºé•¿å°¾é—®é¢˜</p>
</blockquote><p>ä¸ºäº†åŒºåˆ†æ˜¯å¹³å‡çš„æ…¢è¿˜æ˜¯é•¿å°¾çš„æ…¢ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æŒ‰ç…§è¯·æ±‚å»¶è¿Ÿçš„èŒƒå›´è¿›è¡Œåˆ†ç»„ã€‚ä¾‹å¦‚ï¼šç»Ÿè®¡å»¶è¿Ÿåœ¨ 0<del>10ms ä¹‹é—´çš„è¯·æ±‚æ•°æœ‰å¤šå°‘è€Œ 10</del>20ms ä¹‹é—´çš„è¯·æ±‚æ•°åˆæœ‰å¤šå°‘ã€‚é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å¿«é€Ÿåˆ†æç³»ç»Ÿæ…¢çš„åŸå› ã€‚Histogram å’ŒSummary éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿè§£å†³è¿™æ ·é—®é¢˜çš„å­˜åœ¨ï¼Œé€šè¿‡ Histogram å’Œ Summary ç±»å‹çš„ç›‘æ§æŒ‡æ ‡ï¼Œå¯ä»¥å¿«é€Ÿäº†è§£ç›‘æ§æ ·æœ¬çš„åˆ†å¸ƒæƒ…å†µã€‚</p>
<p>ä¾‹å¦‚ï¼šæŒ‡æ ‡ <code>prometheus_tsdb_wal_fsync_duration_seconds</code> çš„æŒ‡æ ‡ç±»å‹ä¸º Summaryã€‚ å®ƒè®°å½•äº† Prometheus Server ä¸­ <code>wal_fsync</code> å¤„ç†çš„å¤„ç†æ—¶é—´ï¼Œé€šè¿‡è®¿é—® Prometheus Server çš„ <code>/metrics</code> åœ°å€ï¼Œå¯ä»¥è·å–åˆ°ä»¥ä¸‹ç›‘æ§æ ·æœ¬æ•°æ®ï¼š</p>
<pre tabindex="0"><code># HELP prometheus_tsdb_wal_fsync_duration_seconds Duration of WAL fsync.
# TYPE prometheus_tsdb_wal_fsync_duration_seconds summary
prometheus_tsdb_wal_fsync_duration_seconds{quantile=&#34;0.5&#34;} 0.012352463
prometheus_tsdb_wal_fsync_duration_seconds{quantile=&#34;0.9&#34;} 0.014458005
prometheus_tsdb_wal_fsync_duration_seconds{quantile=&#34;0.99&#34;} 0.017316173
prometheus_tsdb_wal_fsync_duration_seconds_sum 2.888716127000002
prometheus_tsdb_wal_fsync_duration_seconds_count 216</code></pre><p>ä»ä¸Šé¢çš„æ ·æœ¬ä¸­å¯ä»¥å¾—çŸ¥å½“å‰ Prometheus Server è¿›è¡Œ <code>wal_fsync</code> æ“ä½œçš„æ€»æ¬¡æ•°ä¸º216æ¬¡ï¼Œè€—æ—¶ <code>2.888716127000002s</code>ã€‚å…¶ä¸­ä¸­ä½æ•°ï¼ˆquantile=0.5ï¼‰çš„è€—æ—¶ä¸º 0.012352463ï¼Œ9åˆ†ä½æ•°ï¼ˆquantile=0.9ï¼‰çš„è€—æ—¶ä¸º 0.014458005sã€‚</p>
<p>åœ¨ Prometheus Server è‡ªèº«è¿”å›çš„æ ·æœ¬æ•°æ®ä¸­ï¼Œè¿˜èƒ½æ‰¾åˆ°ç±»å‹ä¸º Histogram çš„ç›‘æ§æŒ‡æ ‡<code>prometheus_tsdb_compaction_chunk_range_bucket</code>ã€‚</p>
<pre tabindex="0"><code># HELP prometheus_tsdb_compaction_chunk_range Final time range of chunks on their first compaction
# TYPE prometheus_tsdb_compaction_chunk_range histogram
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;100&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;400&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;1600&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;6400&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;25600&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;102400&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;409600&#34;} 0
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;1.6384e+06&#34;} 260
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;6.5536e+06&#34;} 780
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;2.62144e+07&#34;} 780
prometheus_tsdb_compaction_chunk_range_bucket{le=&#34;+Inf&#34;} 780
prometheus_tsdb_compaction_chunk_range_sum 1.1540798e+09
prometheus_tsdb_compaction_chunk_range_count 780</code></pre><p>å¯¹æ¯” Summary ç±»å‹çš„æŒ‡æ ‡ï¼š</p>
<ul>
<li>ç›¸ä¼¼ä¹‹å¤„åœ¨äºï¼š Histogram ç±»å‹çš„æ ·æœ¬åŒæ ·ä¼šååº”å½“å‰æŒ‡æ ‡çš„è®°å½•çš„æ€»æ•°(ä»¥ <code>_count</code> ä½œä¸ºåç¼€)ä»¥åŠå…¶å€¼çš„æ€»é‡ï¼ˆä»¥ <code>_sum</code> ä½œä¸ºåç¼€ï¼‰</li>
<li>ä¸åŒåœ¨äºï¼š Histogram æŒ‡æ ‡ç›´æ¥ååº”äº†åœ¨ä¸åŒåŒºé—´å†…æ ·æœ¬çš„ä¸ªæ•°ï¼ŒåŒºé—´é€šè¿‡æ ‡ç­¾ <code>len</code> è¿›è¡Œå®šä¹‰</li>
</ul>
<p>å¯¹äº Histogram çš„æŒ‡æ ‡ï¼Œè¿˜å¯ä»¥é€šè¿‡ <code>histogram_quantile()</code> å‡½æ•°è®¡ç®—å‡ºå…¶å€¼çš„åˆ†ä½æ•°ã€‚ä¸åŒåœ¨äº:</p>
<ul>
<li>Histogram é€šè¿‡ <code>histogram_quantile</code> å‡½æ•°æ˜¯åœ¨æœåŠ¡å™¨ç«¯è®¡ç®—çš„åˆ†ä½æ•°ï¼ˆä¼šæ¶ˆè€—æ›´å¤šçš„èµ„æºï¼‰</li>
<li>Sumamry çš„åˆ†ä½æ•°åˆ™æ˜¯ç›´æ¥åœ¨å®¢æˆ·ç«¯è®¡ç®—å®Œæˆï¼ˆåœ¨é€šè¿‡ PromQL è¿›è¡ŒæŸ¥è¯¢æ—¶æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ï¼‰</li>
</ul>
<blockquote class='book-hint '>
<p>é€‰æ‹©è¿™ä¸¤ç§æ–¹å¼æ—¶åº”è¯¥æŒ‰ç…§è‡ªå·±çš„å®é™…åœºæ™¯è¿›è¡Œé€‰æ‹©</p>
</blockquote><h1 id="promql">PromQL<a class="anchor" href="#promql">#</a></h1>
<p>Prometheus é€šè¿‡æŒ‡æ ‡åç§°ï¼ˆmetrics nameï¼‰ä»¥åŠå¯¹åº”çš„ä¸€ç»„æ ‡ç­¾ï¼ˆlabelsetï¼‰æ¥å®šä¹‰ä¸€æ¡æ—¶é—´åºåˆ—ã€‚æŒ‡æ ‡åç§°åæ˜ äº†ç›‘æ§æ ·æœ¬çš„åŸºæœ¬æ ‡è¯†ï¼Œè€Œ label åˆ™åœ¨è¿™ä¸ªåŸºæœ¬ç‰¹å¾ä¸Šä¸ºé‡‡é›†åˆ°çš„æ•°	è¿‡æ»¤ï¼Œèšåˆï¼Œç»Ÿè®¡ä»è€Œäº§ç”Ÿæ–°çš„è®¡ç®—åçš„ä¸€æ¡æ—¶é—´åºåˆ—ã€‚</p>
<blockquote class='book-hint '>
<p>PromQL æ˜¯ Prometheus å†…ç½®çš„æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œå…¶æä¾›å¯¹æ—¶é—´åºåˆ—æ•°æ®ä¸°å¯Œçš„æŸ¥è¯¢ï¼Œèšåˆä»¥åŠé€»è¾‘è¿ç®—èƒ½åŠ›çš„æ”¯æŒ</p>
</blockquote><h2 id="æŸ¥è¯¢æ—¶é—´åºåˆ—">æŸ¥è¯¢æ—¶é—´åºåˆ—<a class="anchor" href="#%e6%9f%a5%e8%af%a2%e6%97%b6%e9%97%b4%e5%ba%8f%e5%88%97">#</a></h2>
<p>å½“ Prometheus é€šè¿‡ Exporter Node é‡‡é›†åˆ°ç›¸åº”çš„ç›‘æ§æŒ‡æ ‡æ ·æœ¬æ•°æ®åï¼Œå¯ä»¥é€šè¿‡ PromQL å¯¹ç›‘æ§æ ·æœ¬æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚æ¯”å¦‚ï¼šç›´æ¥ä½¿ç”¨ç›‘æ§æŒ‡æ ‡åç§°æŸ¥è¯¢</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>prometheus_http_requests_total
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç­‰åŒäºï¼š</span>
</span></span><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{}</span></span></span></code></pre></div><p>è¯¥è¡¨è¾¾å¼è¿”å›æŒ‡æ ‡åç§°ä¸º <code>http_requests_total</code> çš„æ‰€æœ‰æ—¶é—´åºåˆ—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>code<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/-/ready&#34;</span>, instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span>, job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prometheus&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>code<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/api/v1/label/:name/values&#34;</span>, instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span>, job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prometheus&#34;</span><span style="color:#f92672">}</span></span></span></code></pre></div><h2 id="æ ‡ç­¾è¿‡æ»¤">æ ‡ç­¾è¿‡æ»¤<a class="anchor" href="#%e6%a0%87%e7%ad%be%e8%bf%87%e6%bb%a4">#</a></h2>
<p>PromQL æ”¯æŒæ ¹æ®æ—¶é—´åºåˆ—çš„æ ‡ç­¾åŒ¹é…æ¨¡å¼æ¥å¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ï¼Œç›®å‰ä¸»è¦æ”¯æŒä¸¤ç§åŒ¹é…æ¨¡å¼ï¼š</p>
<ul>
<li>å®Œå…¨åŒ¹é… <code>=</code>ï¼šä½¿ç”¨ <code>label=value</code> é€‰æ‹©æ ‡ç­¾æ»¡è¶³è¡¨è¾¾å¼å®šä¹‰çš„æ—¶é—´åºåˆ—</li>
<li>æ­£åˆ™åŒ¹é… <code>!=</code> ï¼šä½¿ç”¨ <code>label!=value </code> æ ¹æ®æ ‡ç­¾åŒ¹é…æ’é™¤æ—¶é—´åºåˆ—</li>
</ul>
<p>æ¯”å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>instance!<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span><span style="color:#f92672">}</span></span></span></code></pre></div><p>é™¤äº†ä½¿ç”¨å®Œå…¨åŒ¹é…çš„æ–¹å¼å¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ä»¥å¤–ï¼ŒPromQL è¿˜å¯ä»¥æ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºåŒ¹é…æ¡ä»¶ï¼Œå¤šä¸ªè¡¨è¾¾å¼ä¹‹é—´ä½¿ç”¨ <code>|</code> è¿›è¡Œåˆ†ç¦»ï¼šPromQL æ”¯æŒä½¿ç”¨ <code>=~</code> å’Œ <code>!~</code> ä¸¤ç§æ­£åˆ™åŒ¹é…æ¨¡å¼ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>label=~regx</code> è¡¨ç¤ºé€‰æ‹©é‚£äº›æ ‡ç­¾ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„æ—¶é—´åºåˆ—</li>
<li>åä¹‹ä½¿ç”¨ <code>label!~regx</code> è¿›è¡Œæ’é™¤</li>
</ul>
<p>æ¯”å¦‚ï¼Œå¦‚æœæƒ³æŸ¥è¯¢å¤šä¸ªç¯èŠ‚ä¸‹çš„æ—¶é—´åºåˆ—åºåˆ—å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>environment<span style="color:#f92672">=</span>~<span style="color:#e6db74">&#34;staging|testing|development&#34;</span>,method!<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">}</span></span></span></code></pre></div><h2 id="èŒƒå›´æŸ¥è¯¢">èŒƒå›´æŸ¥è¯¢<a class="anchor" href="#%e8%8c%83%e5%9b%b4%e6%9f%a5%e8%af%a2">#</a></h2>
<p>ç›´æ¥é€šè¿‡ç±»ä¼¼äº PromQL è¡¨è¾¾å¼  <code>process_http_request_total</code>  æŸ¥è¯¢æ—¶é—´åºåˆ—æ—¶ï¼Œè¿”å›å€¼ä¸­åªä¼šåŒ…å«è¯¥æ—¶é—´åºåˆ—ä¸­æœ€æ–°çš„ä¸€ä¸ªæ ·æœ¬å€¼ï¼Œè¿™æ ·çš„è¿”å›ç»“æœä¸º <strong>ç¬æ—¶å‘é‡</strong>ã€‚ç›¸åº”çš„è¡¨è¾¾å¼ç§°ä¸º <strong>ç¬æ—¶å‘é‡è¡¨è¾¾å¼</strong>ã€‚</p>
<p>å¦‚æœéœ€è¦è¿‡å»ä¸€æ®µæ—¶é—´èŒƒå›´å†…çš„æ ·æœ¬æ•°æ®æ—¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <strong>åŒºé—´å‘é‡è¡¨è¾¾å¼</strong>ã€‚åŒºé—´å‘é‡è¡¨è¾¾å¼å’Œç¬æ—¶å‘é‡è¡¨è¾¾å¼å·®å¼‚åœ¨äºï¼šåœ¨åŒºé—´å‘é‡è¡¨è¾¾å¼ä¸­éœ€è¦å®šä¹‰æ—¶é—´é€‰æ‹©çš„èŒƒå›´ï¼Œæ—¶é—´èŒƒå›´é€šè¿‡æ—¶é—´èŒƒå›´é€‰æ‹©å™¨ <code>[]</code> è¿›è¡Œå®šä¹‰ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ä»¥ä¸‹è¡¨è¾¾å¼å¯ä»¥é€‰æ‹©æœ€è¿‘5åˆ†é’Ÿå†…çš„æ‰€æœ‰æ ·æœ¬æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{}[</span>5m<span style="color:#f92672">]</span></span></span></code></pre></div><p>è¯¥è¡¨è¾¾å¼å°†ä¼šè¿”å›æŸ¥è¯¢åˆ°çš„æ—¶é—´åºåˆ—ä¸­æœ€è¿‘5åˆ†é’Ÿçš„æ‰€æœ‰æ ·æœ¬æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>code<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/-/ready&#34;</span>, instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span>, job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prometheus&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164241.316
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164256.319
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164271.319
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164286.316
</span></span><span style="display:flex;"><span>prometheus_http_requests_total<span style="color:#f92672">{</span>code<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/api/v1/label/:name/values&#34;</span>, instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9090&#34;</span>, job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;prometheus&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164241.316
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164256.319
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164271.319
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span> @1657164286.316
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span> @1657164301.316</span></span></code></pre></div><p>é€šè¿‡åŒºé—´å‘é‡è¡¨è¾¾å¼æŸ¥è¯¢åˆ°çš„ç»“æœç§°ä¸º <strong>åŒºé—´å‘é‡</strong>ã€‚</p>
<p>é™¤äº†ä½¿ç”¨ <code>m</code> è¡¨ç¤ºåˆ†é’Ÿä»¥å¤–ï¼ŒPromQL çš„æ—¶é—´èŒƒå›´é€‰æ‹©å™¨æ”¯æŒå…¶å®ƒæ—¶é—´å•ä½ï¼š</p>
<ul>
<li><code>s</code> - ç§’</li>
<li><code>m</code> - åˆ†é’Ÿ</li>
<li><code>h</code> - å°æ—¶</li>
<li><code>d</code> - å¤©</li>
<li><code>w</code> - å‘¨</li>
<li><code>y</code> - å¹´</li>
</ul>
<h2 id="æ—¶é—´ä½ç§»">æ—¶é—´ä½ç§»<a class="anchor" href="#%e6%97%b6%e9%97%b4%e4%bd%8d%e7%a7%bb">#</a></h2>
<p>åœ¨ç¬æ—¶å‘é‡è¡¨è¾¾å¼æˆ–è€…åŒºé—´å‘é‡è¡¨è¾¾å¼ä¸­ï¼Œéƒ½æ˜¯ä»¥å½“å‰æ—¶é—´ä¸ºåŸºå‡†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{}</span> <span style="color:#75715e"># ç¬æ—¶å‘é‡è¡¨è¾¾å¼ï¼Œé€‰æ‹©å½“å‰æœ€æ–°çš„æ•°æ®</span>
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{}[</span>5m<span style="color:#f92672">]</span> <span style="color:#75715e"># åŒºé—´å‘é‡è¡¨è¾¾å¼ï¼Œé€‰æ‹©ä»¥å½“å‰æ—¶é—´ä¸ºåŸºå‡†ï¼Œ5åˆ†é’Ÿå†…çš„æ•°æ®</span></span></span></code></pre></div><p>å¦‚æœæƒ³æŸ¥è¯¢5åˆ†é’Ÿå‰çš„ç¬æ—¶æ ·æœ¬æ•°æ®ï¼Œæˆ–æ˜¨å¤©ä¸€å¤©åŒºé—´å†…çš„æ ·æœ¬æ•°æ®å¯ä»¥ä½¿ç”¨ä½ç§»æ“ä½œï¼Œä½ç§»æ“ä½œçš„å…³é”®å­—ä¸º <code>offset</code>ã€‚å¯ä»¥ä½¿ç”¨ <code>offset</code> æ‰§è¡Œæ—¶é—´ä½ç§»æ“ä½œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{}</span> offset 5m
</span></span><span style="display:flex;"><span>http_request_total<span style="color:#f92672">{}[</span>1d<span style="color:#f92672">]</span> offset 1d</span></span></code></pre></div><h2 id="èšåˆæ“ä½œ">èšåˆæ“ä½œ<a class="anchor" href="#%e8%81%9a%e5%90%88%e6%93%8d%e4%bd%9c">#</a></h2>
<p>ä¸€èˆ¬å¦‚æœæè¿°æ ·æœ¬ç‰¹å¾çš„æ ‡ç­¾(label)åœ¨å¹¶éå”¯ä¸€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ PromQL æŸ¥è¯¢æ•°æ®ï¼Œä¼šè¿”å›å¤šæ¡æ»¡è¶³è¿™äº›ç‰¹å¾ç»´åº¦çš„æ—¶é—´åºåˆ—ã€‚PromQL æä¾›çš„èšåˆæ“ä½œå¯ä»¥ç”¨æ¥å¯¹è¿™äº›æ—¶é—´åºåˆ—è¿›è¡Œå¤„ç†ï¼Œå½¢æˆä¸€æ¡æ–°çš„æ—¶é—´åºåˆ—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰httpè¯·æ±‚çš„æ€»é‡</span>
</span></span><span style="display:flex;"><span>sum<span style="color:#f92672">(</span>http_request_total<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æŒ‰ç…§modeè®¡ç®—ä¸»æœºCPUçš„å¹³å‡ä½¿ç”¨æ—¶é—´</span>
</span></span><span style="display:flex;"><span>avg<span style="color:#f92672">(</span>node_cpu<span style="color:#f92672">)</span> by <span style="color:#f92672">(</span>mode<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æŒ‰ç…§ä¸»æœºæŸ¥è¯¢å„ä¸ªä¸»æœºçš„CPUä½¿ç”¨ç‡</span>
</span></span><span style="display:flex;"><span>sum<span style="color:#f92672">(</span>sum<span style="color:#f92672">(</span>irate<span style="color:#f92672">(</span>node_cpu<span style="color:#f92672">{</span>mode!<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;idle&#39;</span><span style="color:#f92672">}[</span>5m<span style="color:#f92672">]))</span>  / sum<span style="color:#f92672">(</span>irate<span style="color:#f92672">(</span>node_cpu<span style="color:#f92672">[</span>5m<span style="color:#f92672">])))</span> by <span style="color:#f92672">(</span>instance<span style="color:#f92672">)</span></span></span></code></pre></div><h2 id="æ“ä½œç¬¦">æ“ä½œç¬¦<a class="anchor" href="#%e6%93%8d%e4%bd%9c%e7%ac%a6">#</a></h2>
<h3 id="æ•°å­¦è¿ç®—">æ•°å­¦è¿ç®—<a class="anchor" href="#%e6%95%b0%e5%ad%a6%e8%bf%90%e7%ae%97">#</a></h3>
<p>ä¾‹å¦‚ï¼šé€šè¿‡æŒ‡æ ‡  <code>node_memory_free_bytes_total</code>  è·å–åˆ°å½“å‰ä¸»æœºå¯ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œæ ·æœ¬å•ä½ä¸º Bytesã€‚å¦‚æœè¦æ±‚ä½¿ç”¨ <code>MB</code> ä½œä¸ºå•ä½å“åº”æ•°æ®ï¼Œåªéœ€è¦å°†æŸ¥è¯¢åˆ°çš„æ—¶é—´åºåˆ—çš„æ ·æœ¬å€¼è¿›è¡Œå•ä½æ¢ç®—å³å¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>node_memory_free_bytes_total / <span style="color:#f92672">(</span><span style="color:#ae81ff">1024</span> * 1024<span style="color:#f92672">)</span></span></span></code></pre></div><blockquote class='book-hint '>
<p>ç¬æ—¶å‘é‡ä¸æ ‡é‡ä¹‹é—´è¿›è¡Œæ•°å­¦è¿ç®—æ—¶ï¼šæ•°å­¦è¿ç®—ç¬¦ä¼šä¾æ¬¡ä½œç”¨äºç¬æ—¶å‘é‡ä¸­çš„æ¯ä¸€ä¸ªæ ·æœ¬å€¼ï¼Œä»è€Œå¾—åˆ°ä¸€ç»„æ–°çš„æ—¶é—´åºåˆ—</p>
</blockquote><p>ç¬æ—¶å‘é‡ä¸ç¬æ—¶å‘é‡ä¹‹é—´è¿›è¡Œæ•°å­¦è¿ç®—æ—¶ï¼Œè¿‡ç¨‹ä¼šç›¸å¯¹å¤æ‚ä¸€ç‚¹ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæƒ³æ ¹æ® <code>node_disk_bytes_written</code> å’Œ  <code>node_disk_bytes_read</code> è·å–ä¸»æœºç£ç›˜IOçš„æ€»é‡ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>node_disk_bytes_written + node_disk_bytes_read</span></span></code></pre></div><p>å·¥ä½œåŸç†æ˜¯ï¼šä¾æ¬¡æ‰¾åˆ°ä¸å·¦è¾¹å‘é‡å…ƒç´ åŒ¹é…ï¼ˆæ ‡ç­¾å®Œå…¨ä¸€è‡´ï¼‰çš„å³è¾¹å‘é‡å…ƒç´ è¿›è¡Œè¿ç®—ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒã€‚åŒæ—¶æ–°çš„æ—¶é—´åºåˆ—å°†ä¸ä¼šåŒ…å«æŒ‡æ ‡åç§°ã€‚ è¯¥è¡¨è¾¾å¼è¿”å›ç»“æœçš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">{</span>device<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sda&#34;</span>,instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9100&#34;</span>,job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;node_exporter&#34;</span><span style="color:#f92672">}=</span>&gt;1634967552@1518146427.807 + 864551424@1518146427.807
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>device<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sdb&#34;</span>,instance<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;localhost:9100&#34;</span>,job<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;node_exporter&#34;</span><span style="color:#f92672">}=</span>&gt;0@1518146427.807 + 1744384@1518146427.807</span></span></code></pre></div><p>PromQL æ”¯æŒçš„æ•°å­¦è¿ç®—ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li><code>+</code> (åŠ æ³•)</li>
<li><code>-</code> (å‡æ³•)</li>
<li><code>*</code> (ä¹˜æ³•)</li>
<li><code>/</code> (é™¤æ³•)</li>
<li><code>%</code> (æ±‚ä½™)</li>
<li><code>^</code> (å¹‚è¿ç®—)</li>
</ul>
<h3 id="å¸ƒå°”è¿ç®—">å¸ƒå°”è¿ç®—<a class="anchor" href="#%e5%b8%83%e5%b0%94%e8%bf%90%e7%ae%97">#</a></h3>
<p>åœ¨ PromQL é€šè¿‡æ ‡ç­¾åŒ¹é…æ¨¡å¼ï¼Œå¯ä»¥æ ¹æ®æ—¶é—´åºåˆ—çš„ç‰¹å¾ç»´åº¦å¯¹å…¶è¿›è¡ŒæŸ¥è¯¢ã€‚è€Œå¸ƒå°”è¿ç®—åˆ™æ”¯æŒæ ¹æ®æ—¶é—´åºåˆ—ä¸­æ ·æœ¬çš„å€¼ï¼Œå¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ã€‚</p>
<p>ä¾‹å¦‚ï¼šé€šè¿‡æ•°å­¦è¿ç®—ç¬¦å¯ä»¥è®¡ç®—å‡ºå½“å‰æ‰€æœ‰ä¸»æœºèŠ‚ç‚¹çš„å†…å­˜ä½¿ç”¨ç‡ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>node_memory_bytes_total - node_memory_free_bytes_total<span style="color:#f92672">)</span> / node_memory_bytes_total</span></span></code></pre></div><p>è€Œå¦‚æœåªæƒ³çŸ¥é“å½“å‰å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡95%çš„ä¸»æœºé€šè¿‡ä½¿ç”¨å¸ƒå°”è¿ç®—ç¬¦å¯ä»¥æ–¹ä¾¿çš„è·å–åˆ°è¯¥ç»“æœï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>node_memory_bytes_total - node_memory_free_bytes_total<span style="color:#f92672">)</span> / node_memory_bytes_total &gt; 0.95</span></span></code></pre></div><p>ç¬æ—¶å‘é‡ä¸æ ‡é‡è¿›è¡Œå¸ƒå°”è¿ç®—æ—¶ï¼šPromQL ä¾æ¬¡æ¯”è¾ƒå‘é‡ä¸­çš„æ‰€æœ‰æ—¶é—´åºåˆ—æ ·æœ¬çš„å€¼ï¼Œå¦‚æœæ¯”è¾ƒç»“æœä¸º true åˆ™ä¿ç•™ï¼Œåä¹‹ä¸¢å¼ƒã€‚</p>
<p>ç¬æ—¶å‘é‡ä¸ç¬æ—¶å‘é‡ç›´æ¥è¿›è¡Œå¸ƒå°”è¿ç®—æ—¶ï¼šåŒæ ·éµå¾ªé»˜è®¤çš„åŒ¹é…æ¨¡å¼ï¼šä¾æ¬¡æ‰¾åˆ°ä¸å·¦è¾¹å‘é‡å…ƒç´ åŒ¹é…ï¼ˆæ ‡ç­¾å®Œå…¨ä¸€è‡´ï¼‰çš„å³è¾¹å‘é‡å…ƒç´ è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒã€‚</p>
<p>ç›®å‰ï¼ŒPrometheusæ”¯æŒä»¥ä¸‹å¸ƒå°”è¿ç®—ç¬¦å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>==</code> (ç›¸ç­‰)</li>
<li><code>!=</code> (ä¸ç›¸ç­‰)</li>
<li><code>&gt;</code> (å¤§äº)</li>
<li><code>&lt;</code> (å°äº)</li>
<li><code>&gt;=</code> (å¤§äºç­‰äº)</li>
<li><code>&lt;=</code> (å°äºç­‰äº)</li>
</ul>
<h3 id="bool-ä¿®é¥°ç¬¦">bool ä¿®é¥°ç¬¦<a class="anchor" href="#bool-%e4%bf%ae%e9%a5%b0%e7%ac%a6">#</a></h3>
<p>å¸ƒå°”è¿ç®—ç¬¦çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹æ—¶åºæ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚è€Œåœ¨å…¶å®ƒçš„æƒ…å†µä¸‹å¯èƒ½éœ€è¦çš„æ˜¯çœŸæ­£çš„å¸ƒå°”ç»“æœã€‚ä¾‹å¦‚ï¼Œåªéœ€è¦çŸ¥é“å½“å‰æ¨¡å—çš„ HTTP è¯·æ±‚é‡æ˜¯å¦ &gt;=1000ï¼Œå¦‚æœå¤§äºç­‰äº1000åˆ™è¿”å›1ï¼ˆtrueï¼‰å¦åˆ™è¿”å›0ï¼ˆfalseï¼‰ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨  bool ä¿®é¥°ç¬¦æ”¹å˜å¸ƒå°”è¿ç®—çš„é»˜è®¤è¡Œä¸ºã€‚ ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http_requests_total &gt; bool <span style="color:#ae81ff">1000</span></span></span></code></pre></div><p>ä½¿ç”¨ bool ä¿®æ”¹ç¬¦åï¼Œå¸ƒå°”è¿ç®—ä¸ä¼šå¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ï¼Œè€Œæ˜¯ç›´æ¥ä¾æ¬¡ç¬æ—¶å‘é‡ä¸­çš„å„ä¸ªæ ·æœ¬æ•°æ®ä¸æ ‡é‡çš„æ¯”è¾ƒç»“æœ0æˆ–è€…1ï¼Œä»è€Œå½¢æˆä¸€æ¡æ–°çš„æ—¶é—´åºåˆ—ã€‚</p>
<pre tabindex="0"><code>http_requests_total{code=&#34;200&#34;,handler=&#34;query&#34;,instance=&#34;localhost:9090&#34;,job=&#34;prometheus&#34;,method=&#34;get&#34;}  1
http_requests_total{code=&#34;200&#34;,handler=&#34;query_range&#34;,instance=&#34;localhost:9090&#34;,job=&#34;prometheus&#34;,method=&#34;get&#34;}  0</code></pre><p>åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯åœ¨ä¸¤ä¸ªæ ‡é‡ä¹‹é—´ä½¿ç”¨å¸ƒå°”è¿ç®—ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ bool ä¿®é¥°ç¬¦</p>
<pre tabindex="0"><code>2 == bool 2 # ç»“æœä¸º1</code></pre><h2 id="é›†åˆè¿ç®—ç¬¦">é›†åˆè¿ç®—ç¬¦<a class="anchor" href="#%e9%9b%86%e5%90%88%e8%bf%90%e7%ae%97%e7%ac%a6">#</a></h2>
<p>ä½¿ç”¨ç¬æ—¶å‘é‡è¡¨è¾¾å¼èƒ½å¤Ÿè·å–åˆ°ä¸€ä¸ªåŒ…å«å¤šä¸ªæ—¶é—´åºåˆ—çš„é›†åˆï¼Œç§°ä¸ºç¬æ—¶å‘é‡ã€‚ é€šè¿‡é›†åˆè¿ç®—ï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªç¬æ—¶å‘é‡ä¹‹é—´è¿›è¡Œç›¸åº”çš„é›†åˆæ“ä½œã€‚ç›®å‰ Prometheus æ”¯æŒä»¥ä¸‹é›†åˆè¿ç®—ç¬¦ï¼š</p>
<ul>
<li><code>and</code> (å¹¶ä¸”)</li>
<li><code>or</code> (æˆ–è€…)</li>
<li><code>unless</code> (æ’é™¤)</li>
</ul>
<p><code>vector1 and vector2</code> äº§ç”Ÿä¸€ä¸ªç”± vector1 çš„å…ƒç´ ç»„æˆçš„æ–°çš„å‘é‡ã€‚è¯¥å‘é‡åŒ…å« vector1 ä¸­å®Œå…¨åŒ¹é… vector2 ä¸­çš„å…ƒç´ ç»„æˆ</p>
<p><code>vector1 or vector2</code> äº§ç”Ÿä¸€ä¸ªæ–°çš„å‘é‡ï¼Œè¯¥å‘é‡åŒ…å« vector1 ä¸­æ‰€æœ‰çš„æ ·æœ¬æ•°æ®ï¼Œä»¥åŠ vector2 ä¸­æ²¡æœ‰ä¸ vector1 åŒ¹é…åˆ°çš„æ ·æœ¬æ•°æ®</p>
<p><code>vector1 unless vector2</code> äº§ç”Ÿä¸€ä¸ªæ–°çš„å‘é‡ï¼Œæ–°å‘é‡ä¸­çš„å…ƒç´ ç”± vector1 ä¸­æ²¡æœ‰ä¸ vector2 åŒ¹é…çš„å…ƒç´ ç»„æˆ</p>
<h2 id="æ“ä½œç¬¦ä¼˜å…ˆçº§">æ“ä½œç¬¦ä¼˜å…ˆçº§<a class="anchor" href="#%e6%93%8d%e4%bd%9c%e7%ac%a6%e4%bc%98%e5%85%88%e7%ba%a7">#</a></h2>
<p>å¯¹äºå¤æ‚ç±»å‹çš„è¡¨è¾¾å¼ï¼Œéœ€è¦äº†è§£è¿ç®—æ“ä½œçš„è¿è¡Œä¼˜å…ˆçº§ï¼ŒPromQL æ“ä½œç¬¦ä¸­ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼š</p>
<ol>
<li><code>^</code></li>
<li><code>*, /, %</code></li>
<li><code>+, -</code></li>
<li><code>==, !=, &lt;=, &lt;, &gt;=, &gt;</code></li>
<li><code>and, unless</code></li>
<li><code>or</code></li>
</ol>
<h2 id="åŒ¹é…æ¨¡å¼">åŒ¹é…æ¨¡å¼<a class="anchor" href="#%e5%8c%b9%e9%85%8d%e6%a8%a1%e5%bc%8f">#</a></h2>
<p>å‘é‡ä¸å‘é‡ä¹‹é—´è¿›è¡Œè¿ç®—æ“ä½œæ—¶ä¼šåŸºäºé»˜è®¤çš„åŒ¹é…è§„åˆ™ï¼šä¾æ¬¡æ‰¾åˆ°ä¸å·¦è¾¹å‘é‡å…ƒç´ åŒ¹é…ï¼ˆæ ‡ç­¾å®Œå…¨ä¸€è‡´ï¼‰çš„å³è¾¹å‘é‡å…ƒç´ è¿›è¡Œè¿ç®—ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒã€‚</p>
<p>åœ¨ PromQL ä¸­æœ‰ä¸¤ç§å…¸å‹çš„åŒ¹é…æ¨¡å¼ï¼šä¸€å¯¹ä¸€ï¼ˆone-to-oneï¼‰,å¤šå¯¹ä¸€ï¼ˆmany-to-oneï¼‰æˆ–ä¸€å¯¹å¤šï¼ˆone-to-manyï¼‰ã€‚</p>
<h3 id="ä¸€å¯¹ä¸€åŒ¹é…">ä¸€å¯¹ä¸€åŒ¹é…<a class="anchor" href="#%e4%b8%80%e5%af%b9%e4%b8%80%e5%8c%b9%e9%85%8d">#</a></h3>
<p>ä¸€å¯¹ä¸€åŒ¹é…æ¨¡å¼ä¼šä»æ“ä½œç¬¦ä¸¤è¾¹è¡¨è¾¾å¼è·å–çš„ç¬æ—¶å‘é‡ä¾æ¬¡æ¯”è¾ƒå¹¶æ‰¾åˆ°å”¯ä¸€åŒ¹é…(æ ‡ç­¾å®Œå…¨ä¸€è‡´)çš„æ ·æœ¬å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vector1 &lt;operator&gt; vector2</span></span></code></pre></div><p>åœ¨æ“ä½œç¬¦ä¸¤è¾¹è¡¨è¾¾å¼æ ‡ç­¾ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>on(label list)</code> æˆ–è€… <code>ignoring(label listï¼‰</code>ä¿®æ”¹ä¾¿ç­¾çš„åŒ¹é…è¡Œä¸ºã€‚ä½¿ç”¨ <code>ignoreing</code> å¯ä»¥åœ¨åŒ¹é…æ—¶å¿½ç•¥æŸäº›æ ‡ç­¾ã€‚è€Œ <code>on</code> åˆ™ç”¨äºå°†åŒ¹é…è¡Œä¸ºé™å®šåœ¨æŸäº›æ ‡ç­¾ä¹‹å†…ã€‚</p>
<pre tabindex="0"><code>&lt;vector expr&gt; &lt;bin-op&gt; ignoring(&lt;label list&gt;) &lt;vector expr&gt;
&lt;vector expr&gt; &lt;bin-op&gt; on(&lt;label list&gt;) &lt;vector expr&gt;</code></pre><p>ä¾‹å¦‚å½“å­˜åœ¨æ ·æœ¬ï¼š</p>
<pre tabindex="0"><code>method_code:http_errors:rate5m{method=&#34;get&#34;, code=&#34;500&#34;}  24
method_code:http_errors:rate5m{method=&#34;get&#34;, code=&#34;404&#34;}  30
method_code:http_errors:rate5m{method=&#34;put&#34;, code=&#34;501&#34;}  3
method_code:http_errors:rate5m{method=&#34;post&#34;, code=&#34;500&#34;} 6
method_code:http_errors:rate5m{method=&#34;post&#34;, code=&#34;404&#34;} 21

method:http_requests:rate5m{method=&#34;get&#34;}  600
method:http_requests:rate5m{method=&#34;del&#34;}  34
method:http_requests:rate5m{method=&#34;post&#34;} 120</code></pre><p>ä½¿ç”¨ PromQL è¡¨è¾¾å¼ï¼š</p>
<pre tabindex="0"><code>method_code:http_errors:rate5m{code=&#34;500&#34;} / ignoring(code) method:http_requests:rate5m</code></pre><p>è¯¥è¡¨è¾¾å¼ä¼šè¿”å›åœ¨è¿‡å»5åˆ†é’Ÿå†…ï¼ŒHTTPè¯·æ±‚çŠ¶æ€ç ä¸º500çš„åœ¨æ‰€æœ‰è¯·æ±‚ä¸­çš„æ¯”ä¾‹ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ <code>ignoring(code)</code>ï¼Œæ“ä½œç¬¦ä¸¤è¾¹è¡¨è¾¾å¼è¿”å›çš„ç¬æ—¶å‘é‡ä¸­å°†æ‰¾ä¸åˆ°ä»»ä½•ä¸€ä¸ªæ ‡ç­¾å®Œå…¨ç›¸åŒçš„åŒ¹é…é¡¹ã€‚</p>
<p>å› æ­¤ç»“æœå¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>{method=&#34;get&#34;}  0.04            //  24 / 600
{method=&#34;post&#34;} 0.05            //   6 / 120</code></pre><p>åŒæ—¶ç”±äºmethodä¸ºputå’Œdelçš„æ ·æœ¬æ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼Œå› æ­¤ä¸ä¼šå‡ºç°åœ¨ç»“æœå½“ä¸­ã€‚</p>
<h3 id="å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š">å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š<a class="anchor" href="#%e5%a4%9a%e5%af%b9%e4%b8%80%e5%92%8c%e4%b8%80%e5%af%b9%e5%a4%9a">#</a></h3>
<p>å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šä¸¤ç§åŒ¹é…æ¨¡å¼æŒ‡çš„æ˜¯â€œä¸€â€ä¾§çš„æ¯ä¸€ä¸ªå‘é‡å…ƒç´ å¯ä»¥ä¸&quot;å¤š&quot;ä¾§çš„å¤šä¸ªå…ƒç´ åŒ¹é…çš„æƒ…å†µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»ä½¿ç”¨ group ä¿®é¥°ç¬¦ï¼š<code>group_left</code> æˆ–è€… <code>group_right</code> æ¥ç¡®å®šå“ªä¸€ä¸ªå‘é‡å…·æœ‰æ›´é«˜çš„åŸºæ•°ï¼ˆå……å½“â€œå¤šâ€çš„è§’è‰²ï¼‰ã€‚</p>
<pre tabindex="0"><code>&lt;vector expr&gt; &lt;bin-op&gt; ignoring(&lt;label list&gt;) group_left(&lt;label list&gt;) &lt;vector expr&gt;
&lt;vector expr&gt; &lt;bin-op&gt; ignoring(&lt;label list&gt;) group_right(&lt;label list&gt;) &lt;vector expr&gt;
&lt;vector expr&gt; &lt;bin-op&gt; on(&lt;label list&gt;) group_left(&lt;label list&gt;) &lt;vector expr&gt;
&lt;vector expr&gt; &lt;bin-op&gt; on(&lt;label list&gt;) group_right(&lt;label list&gt;) &lt;vector expr&gt;</code></pre><p>å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šä¸¤ç§æ¨¡å¼ä¸€å®šæ˜¯å‡ºç°åœ¨æ“ä½œç¬¦ä¸¤ä¾§è¡¨è¾¾å¼è¿”å›çš„å‘é‡æ ‡ç­¾ä¸ä¸€è‡´çš„æƒ…å†µã€‚å› æ­¤éœ€è¦ä½¿ç”¨ <code>ignoring</code> å’Œ <code>on</code> ä¿®é¥°ç¬¦æ¥æ’é™¤æˆ–è€…é™å®šåŒ¹é…çš„æ ‡ç­¾åˆ—è¡¨ã€‚</p>
<p>ä¾‹å¦‚è¡¨è¾¾å¼ï¼š</p>
<pre tabindex="0"><code>method_code:http_errors:rate5m / ignoring(code) group_left method:http_requests:rate5m</code></pre><p>è¯¥è¡¨è¾¾å¼ä¸­ï¼Œå·¦å‘é‡ <code>method_code:http_errors:rate5m</code> åŒ…å«ä¸¤ä¸ªæ ‡ç­¾methodå’Œcodeã€‚è€Œå³å‘é‡<code>method:http_requests:rate5m</code> ä¸­åªåŒ…å«ä¸€ä¸ªæ ‡ç­¾ methodï¼Œå› æ­¤åŒ¹é…æ—¶éœ€è¦ä½¿ç”¨ ignoring é™å®šåŒ¹é…çš„æ ‡ç­¾ä¸ºcodeã€‚ åœ¨é™å®šåŒ¹é…æ ‡ç­¾åï¼Œå³å‘é‡ä¸­çš„å…ƒç´ å¯èƒ½åŒ¹é…åˆ°å¤šä¸ªå·¦å‘é‡ä¸­çš„å…ƒç´  å› æ­¤è¯¥è¡¨è¾¾å¼çš„åŒ¹é…æ¨¡å¼ä¸ºå¤šå¯¹ä¸€ï¼Œéœ€è¦ä½¿ç”¨ <code>group</code> ä¿®é¥°ç¬¦<code> group_left</code> æŒ‡å®šå·¦å‘é‡å…·æœ‰æ›´å¥½çš„åŸºæ•°ã€‚</p>
<p>æœ€ç»ˆè¿ç®—ç»“æœå¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>{method=&#34;get&#34;, code=&#34;500&#34;}  0.04            //  24 / 600
{method=&#34;get&#34;, code=&#34;404&#34;}  0.05            //  30 / 600
{method=&#34;post&#34;, code=&#34;500&#34;} 0.05            //   6 / 120
{method=&#34;post&#34;, code=&#34;404&#34;} 0.175           //  21 / 120</code></pre><blockquote class='book-hint '>
<p>æ³¨æ„ï¼šgroup ä¿®é¥°ç¬¦åªèƒ½åœ¨æ¯”è¾ƒå’Œæ•°å­¦è¿ç®—ç¬¦ä¸­ä½¿ç”¨ã€‚åœ¨é€»è¾‘è¿ç®— <code>and</code>, <code>unless</code> å’Œ <code>or</code> æ‰æ³¨æ„æ“ä½œä¸­é»˜è®¤ä¸å³å‘é‡ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡ŒåŒ¹é…ã€‚</p>
</blockquote><h1 id="èšåˆæ“ä½œ-1">èšåˆæ“ä½œ<a class="anchor" href="#%e8%81%9a%e5%90%88%e6%93%8d%e4%bd%9c-1">#</a></h1>
<p>Prometheus è¿˜æä¾›äº†ä¸‹åˆ—å†…ç½®çš„èšåˆæ“ä½œç¬¦ï¼Œè¿™äº›æ“ä½œç¬¦ä½œç”¨åŸŸç¬æ—¶å‘é‡ã€‚ç”¨äºå°†ç¬æ—¶è¡¨è¾¾å¼è¿”å›çš„æ ·æœ¬æ•°æ®è¿›è¡Œèšåˆï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æ—¶é—´åºåˆ—ã€‚</p>
<ul>
<li><code>sum</code> (æ±‚å’Œ)</li>
<li><code>min</code> (æœ€å°å€¼)</li>
<li><code>max</code> (æœ€å¤§å€¼)</li>
<li><code>avg</code> (å¹³å‡å€¼)</li>
<li><code>stddev</code> (æ ‡å‡†å·®)</li>
<li><code>stdvar</code> (æ ‡å‡†å·®å¼‚)</li>
<li><code>count</code> (è®¡æ•°)</li>
<li><code>count_values</code> (å¯¹valueè¿›è¡Œè®¡æ•°)</li>
<li><code>bottomk</code> (ånæ¡æ—¶åº)</li>
<li><code>topk</code> (å‰næ¡æ—¶åº)</li>
<li><code>quantile</code> (åˆ†å¸ƒç»Ÿè®¡)</li>
</ul>
<p>ä½¿ç”¨èšåˆæ“ä½œçš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;aggr-op&gt;<span style="color:#f92672">([</span>parameter,<span style="color:#f92672">]</span> &lt;vector expression&gt;<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>without|by <span style="color:#f92672">(</span>&lt;label list&gt;<span style="color:#f92672">)]</span></span></span></code></pre></div><p>å…¶ä¸­åªæœ‰ <code>count_values</code>ã€<code>quantile</code>ã€<code>topk</code>ã€<code>bottomk </code>æ”¯æŒå‚æ•°(parameter)ã€‚</p>
<h2 id="withoutby">without/by<a class="anchor" href="#withoutby">#</a></h2>
<ul>
<li><code>without</code> ï¼šç”¨äºä»è®¡ç®—ç»“æœä¸­ç§»é™¤åˆ—ä¸¾çš„æ ‡ç­¾è€Œä¿ç•™å…¶å®ƒæ ‡ç­¾</li>
<li><code>by</code> ï¼šæ­£å¥½ç›¸åï¼Œç»“æœå‘é‡ä¸­åªä¿ç•™åˆ—å‡ºçš„æ ‡ç­¾ï¼Œå…¶ä½™æ ‡ç­¾åˆ™ç§»é™¤</li>
</ul>
<p>é€šè¿‡ <code>without</code> å’Œ <code>by</code> å¯ä»¥æŒ‰ç…§æ ·æœ¬çš„é—®é¢˜å¯¹æ•°æ®è¿›è¡Œèšåˆã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sum<span style="color:#f92672">(</span>http_requests_total<span style="color:#f92672">)</span> without <span style="color:#f92672">(</span>instance<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>ç­‰ä»·äºï¼š
</span></span><span style="display:flex;"><span>sum<span style="color:#f92672">(</span>http_requests_total<span style="color:#f92672">)</span> by <span style="color:#f92672">(</span>code,handler,job,method<span style="color:#f92672">)</span></span></span></code></pre></div><p>å¦‚æœåªéœ€è¦è®¡ç®—æ•´ä¸ªåº”ç”¨çš„HTTPè¯·æ±‚æ€»é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sum<span style="color:#f92672">(</span>http_requests_total<span style="color:#f92672">)</span></span></span></code></pre></div><h2 id="count_values">count_values<a class="anchor" href="#count_values">#</a></h2>
<p><code>count_values</code> ç”¨äºæ—¶é—´åºåˆ—ä¸­æ¯ä¸€ä¸ªæ ·æœ¬å€¼å‡ºç°çš„æ¬¡æ•°ã€‚<code>count_values</code> ä¼šä¸ºæ¯ä¸€ä¸ªå”¯ä¸€çš„æ ·æœ¬å€¼è¾“å‡ºä¸€ä¸ªæ—¶é—´åºåˆ—ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªæ—¶é—´åºåˆ—åŒ…å«ä¸€ä¸ªé¢å¤–çš„æ ‡ç­¾ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>count_values<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;count&#34;</span>, http_requests_total<span style="color:#f92672">)</span></span></span></code></pre></div><h2 id="topkboottomk">topk/boottomk<a class="anchor" href="#topkboottomk">#</a></h2>
<p><code>topk</code> å’Œ <code>bottomk</code> åˆ™ç”¨äºå¯¹æ ·æœ¬å€¼è¿›è¡Œæ’åºï¼Œè¿”å›å½“å‰æ ·æœ¬å€¼å‰nä½ï¼Œæˆ–è€…ånä½çš„æ—¶é—´åºåˆ—ã€‚</p>
<p>ä¾‹å¦‚ï¼šè·å–HTTPè¯·æ±‚æ•°å‰5ä½çš„æ—¶åºæ ·æœ¬æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼š</p>
<pre tabindex="0"><code>topk(5, http_requests_total)</code></pre><h2 id="quantile">quantile<a class="anchor" href="#quantile">#</a></h2>
<p><code>quantile</code> ç”¨äºè®¡ç®—å½“å‰æ ·æœ¬æ•°æ®å€¼çš„åˆ†å¸ƒæƒ…å†µ <code>quantile(Ï†, express)</code> å…¶ä¸­ <code>0 â‰¤ Ï† â‰¤ 1</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼šå½“Ï†ä¸º0.5æ—¶ï¼Œå³è¡¨ç¤ºæ‰¾åˆ°å½“å‰æ ·æœ¬æ•°æ®ä¸­çš„ä¸­ä½æ•°ï¼š</p>
<pre tabindex="0"><code>quantile(0.5, http_requests_total)</code></pre><h1 id="å¸¸è§å†…ç½®å‡½æ•°">å¸¸è§å†…ç½®å‡½æ•°<a class="anchor" href="#%e5%b8%b8%e8%a7%81%e5%86%85%e7%bd%ae%e5%87%bd%e6%95%b0">#</a></h1>
<p><a href="https://www.prometheus.wang/promql/prometheus-promql-functions.html">å†…ç½®å‡½æ•°ç›¸å…³å‚è€ƒ</a></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/prometheus/1.2exporter%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>1.2 Exporteræ•°æ®é‡‡é›†</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/prometheus/1.4alertmanager%E5%91%8A%E8%AD%A6%E5%A4%84%E7%90%86/" class="flex align-center">
        <span>1.4 Alertmanagerå‘Šè­¦å¤„ç†</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#counter-åªå¢ä¸å‡">Counter-&gt;åªå¢ä¸å‡</a></li>
    <li><a href="#gauge-å¯å¢å¯å‡">Gauge-&gt;å¯å¢å¯å‡</a></li>
    <li><a href="#histogramsummary">Histogram/Summary</a></li>
  </ul>

  <ul>
    <li><a href="#æŸ¥è¯¢æ—¶é—´åºåˆ—">æŸ¥è¯¢æ—¶é—´åºåˆ—</a></li>
    <li><a href="#æ ‡ç­¾è¿‡æ»¤">æ ‡ç­¾è¿‡æ»¤</a></li>
    <li><a href="#èŒƒå›´æŸ¥è¯¢">èŒƒå›´æŸ¥è¯¢</a></li>
    <li><a href="#æ—¶é—´ä½ç§»">æ—¶é—´ä½ç§»</a></li>
    <li><a href="#èšåˆæ“ä½œ">èšåˆæ“ä½œ</a></li>
    <li><a href="#æ“ä½œç¬¦">æ“ä½œç¬¦</a>
      <ul>
        <li><a href="#æ•°å­¦è¿ç®—">æ•°å­¦è¿ç®—</a></li>
        <li><a href="#å¸ƒå°”è¿ç®—">å¸ƒå°”è¿ç®—</a></li>
        <li><a href="#bool-ä¿®é¥°ç¬¦">bool ä¿®é¥°ç¬¦</a></li>
      </ul>
    </li>
    <li><a href="#é›†åˆè¿ç®—ç¬¦">é›†åˆè¿ç®—ç¬¦</a></li>
    <li><a href="#æ“ä½œç¬¦ä¼˜å…ˆçº§">æ“ä½œç¬¦ä¼˜å…ˆçº§</a></li>
    <li><a href="#åŒ¹é…æ¨¡å¼">åŒ¹é…æ¨¡å¼</a>
      <ul>
        <li><a href="#ä¸€å¯¹ä¸€åŒ¹é…">ä¸€å¯¹ä¸€åŒ¹é…</a></li>
        <li><a href="#å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š">å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤š</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#withoutby">without/by</a></li>
    <li><a href="#count_values">count_values</a></li>
    <li><a href="#topkboottomk">topk/boottomk</a></li>
    <li><a href="#quantile">quantile</a></li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















